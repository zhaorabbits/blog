2020-02-09 12:31:51.132  INFO 7212 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 7212 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 12:31:51.136 DEBUG 7212 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 12:31:51.136  INFO 7212 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:51.840  WARN 7212 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:31:52.000  WARN 7212 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:31:53.912  INFO 7212 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 12:31:54.047  INFO 7212 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 12:31:54.287  INFO 7212 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 12:31:54.287  INFO 7212 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 12:31:54.287  INFO 7212 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 12:31:54.287  INFO 7212 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 12:31:54.550  INFO 7212 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.899 seconds (JVM running for 5.19)
2020-02-09 12:31:54.825  INFO 7212 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 12:33:29.229  INFO 1924 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 1924 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 12:33:29.233 DEBUG 1924 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 12:33:29.233  INFO 1924 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 12:33:29.298  INFO 1924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 12:33:29.298  INFO 1924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.796  WARN 1924 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:33:29.900  WARN 1924 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:33:30.422  INFO 1924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 12:33:30.430  INFO 1924 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 12:33:30.430  INFO 1924 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 12:33:30.430  INFO 1924 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 12:33:30.430  INFO 1924 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 12:33:30.430  INFO 1924 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 12:33:30.442  INFO 1924 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 12:33:30.510  INFO 1924 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 12:33:30.510  INFO 1924 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1212 ms
2020-02-09 12:33:31.317  INFO 1924 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 12:33:31.426  INFO 1924 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 12:33:31.547  INFO 1924 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 12:33:31.547  INFO 1924 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 12:33:31.547  INFO 1924 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 12:33:31.547  INFO 1924 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 12:33:31.741  INFO 1924 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 12:33:31.782  INFO 1924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 12:33:31.786  INFO 1924 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.981 seconds (JVM running for 4.08)
2020-02-09 12:33:41.014  INFO 1924 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 12:33:41.014  INFO 1924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 12:33:41.027  INFO 1924 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2020-02-09 12:33:41.061  INFO 1924 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 12:33:41.065  INFO 1924 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:33:41.065  INFO 1924 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 12:33:45.529  INFO 1924 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@65dfa3be, {}]}
2020-02-09 12:33:45.561  INFO 1924 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 12:33:45.685  INFO 1924 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 12:33:45.692 DEBUG 1924 --- [http-nio-8080-exec-2] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 12:33:45.720 DEBUG 1924 --- [http-nio-8080-exec-2] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 12:33:45.740 DEBUG 1924 --- [http-nio-8080-exec-2] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 12:33:45.744  INFO 1924 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:33:45.744  INFO 1924 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 12:33:47.159  INFO 1924 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 12:33:47.199 DEBUG 1924 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: select count(0) from (SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create,update,create_time,update_time,type_id,user_id FROM t_blog) tmp_count 
2020-02-09 12:33:47.199 DEBUG 1924 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:33:47.251  INFO 1924 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:33:47.255 ERROR 1924 --- [http-nio-8080-exec-7] c.zl.handler.ControllerExceptionHandler  : Request URL :http://localhost:8080/admin/blogs, Exception : {}

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
### The error may exist in com/zl/mapper/BlogMapper.java (best guess)
### The error may involve com.zl.mapper.BlogMapper.selectByExample-Inline
### The error occurred while setting parameters
### SQL: select count(0) from (SELECT  id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:235)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy84.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:223)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93)
	at com.sun.proxy.$Proxy97.selectByExample(Unknown Source)
	at com.zl.service.BlogService.queryBlogByPage(BlogService.java:51)
	at com.zl.service.BlogService$$FastClassBySpringCGLIB$$9af4612b.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.service.BlogService$$EnhancerBySpringCGLIB$$78141d36.queryBlogByPage(<generated>)
	at com.zl.controller.BlogController.queryBlogByPage(BlogController.java:44)
	at com.zl.controller.BlogController$$FastClassBySpringCGLIB$$cf044f21.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.controller.BlogController$$EnhancerBySpringCGLIB$$6564947.queryBlogByPage(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy125.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:64)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:63)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.executeAutoCount(PageInterceptor.java:201)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:113)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy123.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 88 common frames omitted

2020-02-09 12:33:47.259  WARN 1924 --- [http-nio-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
### The error may exist in com/zl/mapper/BlogMapper.java (best guess)
### The error may involve com.zl.mapper.BlogMapper.selectByExample-Inline
### The error occurred while setting parameters
### SQL: select count(0) from (SELECT  id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count
### Cause: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'create,update,create_time,update_time,type_id,user_id  FROM t_blog) tmp_count' at line 1]
2020-02-09 12:36:30.475  INFO 1200 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 1200 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 12:36:30.475 DEBUG 1200 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 12:36:30.475  INFO 1200 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 12:36:30.511  INFO 1200 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 12:36:30.511  INFO 1200 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:30.930  WARN 1200 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:36:31.029  WARN 1200 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:36:31.532  INFO 1200 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 12:36:31.540  INFO 1200 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 12:36:31.540  INFO 1200 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 12:36:31.540  INFO 1200 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 12:36:31.540  INFO 1200 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 12:36:31.540  INFO 1200 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 12:36:31.544  INFO 1200 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 12:36:31.612  INFO 1200 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 12:36:31.612  INFO 1200 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1101 ms
2020-02-09 12:36:32.345  INFO 1200 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 12:36:32.421  INFO 1200 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 12:36:32.509  INFO 1200 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 12:36:32.509  INFO 1200 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 12:36:32.509  INFO 1200 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 12:36:32.509  INFO 1200 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 12:36:32.697  INFO 1200 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 12:36:32.733  INFO 1200 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 12:36:32.733  INFO 1200 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.679 seconds (JVM running for 3.842)
2020-02-09 12:36:39.528  INFO 1200 --- [http-nio-8080-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 12:36:39.528  INFO 1200 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 12:36:39.540  INFO 1200 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-02-09 12:36:40.528  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 12:36:40.532  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:36:40.536  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 12:36:43.922  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:36:43.950  INFO 1200 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 12:36:44.039  INFO 1200 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 12:36:44.047 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 12:36:44.067 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 12:36:44.079 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 12:36:44.083  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:36:44.083  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 12:36:45.358  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 12:36:45.402 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:36:45.402 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:36:45.404 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:36:45.408 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:36:45.408 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:36:45.412 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:36:45.412 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:36:45.412 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:36:45.412 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:36:45.416 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:36:45.424 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:36:45.424 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:36:45.424 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:36:45.428  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:36:45.428  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:37:56.574  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[8, {}]}
2020-02-09 12:37:56.578 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:37:56.578 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:37:56.578 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:37:56.582 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:37:56.582 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:37:56.586 DEBUG 1200 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:37:56.590 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:37:56.590 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 12:37:56.590 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:37:56.598 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:37:56.598 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 8(Long)
2020-02-09 12:37:56.598 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 12:37:56.602  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:37:56.602  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:38:06.431  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=8, title=spring注解之@Import, content=hahhahahaaha, firstPicture=1, flag=转载, views=null, description=123124215412312, isAppreciation=true, isShare=null, isComment=null, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2,4,5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:38:06.435 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:38:06.435 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 8(Long)
2020-02-09 12:38:06.435 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 12:38:06.439 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:38:06.439 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:38:06.439 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:38:06.443 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:38:06.443 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 12:38:06.443 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:38:06.443 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:38:06.443 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 12:38:06.447 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:38:06.451 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:38:06.451 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring注解之@Import(String), hahhahahaaha(String), 1(String), 转载(String), 123124215412312(String), true(Boolean), false(Boolean), true(Boolean), 6(Long), 1(Long), 8(Long)
2020-02-09 12:38:06.451 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:38:06.456 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:38:06.456 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 2(Long)
2020-02-09 12:38:06.456 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:38:06.460 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:38:06.460 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 4(Long)
2020-02-09 12:38:06.464 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:38:06.464 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:38:06.464 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 5(Long)
2020-02-09 12:38:06.468 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:38:06.470  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:38:06.470  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:38:06.486  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:38:06.486 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:38:06.490 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:38:06.490 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:38:06.490 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:38:06.490 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:38:06.494 DEBUG 1200 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:38:06.494 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:38:06.498 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:38:06.502 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:38:06.506 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:38:06.506 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:38:06.510 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:38:06.510  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:38:06.510  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:39:00.065  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[8, {}]}
2020-02-09 12:39:00.065 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:39:00.065 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:39:00.065 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:39:00.069 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:39:00.069 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:39:00.069 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:39:00.069 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:39:00.069 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 12:39:00.073 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:39:00.077 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:39:00.077 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 8(Long)
2020-02-09 12:39:00.077 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 3
2020-02-09 12:39:00.077  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:39:00.077  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:39:02.762  INFO 1200 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=8, title=spring注解之@Import, content=hahhahahaaha, firstPicture=1, flag=转载, views=null, description=123124215412312, isAppreciation=true, isShare=null, isComment=null, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2,4,5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:39:02.762 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:39:02.762 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 8(Long)
2020-02-09 12:39:02.766 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 3
2020-02-09 12:39:02.770 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:39:02.770 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:39:02.770 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:39:02.774 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:39:02.774 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 12:39:02.774 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:39:02.778 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:39:02.778 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 12:39:02.778 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:39:02.778 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:39:02.778 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring注解之@Import(String), hahhahahaaha(String), 1(String), 转载(String), 123124215412312(String), true(Boolean), true(Boolean), true(Boolean), 6(Long), 1(Long), 8(Long)
2020-02-09 12:39:02.782 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:39:02.786 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:39:02.786 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 2(Long)
2020-02-09 12:39:02.786 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:39:02.790 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:39:02.790 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 4(Long)
2020-02-09 12:39:02.790 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:39:02.794 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:39:02.794 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 5(Long)
2020-02-09 12:39:02.794 DEBUG 1200 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:39:02.798  INFO 1200 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:39:02.798  INFO 1200 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:39:02.802  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:39:02.802 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:39:02.802 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:39:02.806 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:39:02.810 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:39:02.814  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:39:02.814  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:40:02.116  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[1, {}]}
2020-02-09 12:40:02.116 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:02.120 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:02.120 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:02.124 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:40:02.124 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:40:02.124 DEBUG 1200 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:40:02.128 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:40:02.128 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:02.130 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:02.130 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:02.130 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 1(Long)
2020-02-09 12:40:02.130 DEBUG 1200 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 12:40:02.130  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:02.130  INFO 1200 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:40:11.266  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=1, title=spring, content=我学会了spring, firstPicture=1, flag=, views=null, description=dsagsdagasg, isAppreciation=true, isShare=true, isComment=true, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:40:11.266 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:11.266 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 1(Long)
2020-02-09 12:40:11.270 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 12:40:11.274 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:11.274 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:40:11.274 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:11.274 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:40:11.274 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring(String), 我学会了spring(String), 1(String), (String), dsagsdagasg(String), true(Boolean), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 6(Long), 1(Long), 1(Long)
2020-02-09 12:40:11.278 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:40:11.278 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:11.282 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 1(Long), 2(Long)
2020-02-09 12:40:11.282 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:11.286  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:11.286  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:40:11.290  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:40:11.290 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:40:11.290 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:11.294 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:40:11.298 DEBUG 1200 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:11.302 DEBUG 1200 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:11.302 DEBUG 1200 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:11.302 DEBUG 1200 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:11.302  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:11.302  INFO 1200 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:40:28.487  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[8, {}]}
2020-02-09 12:40:28.487 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:28.487 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:28.491 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:28.491 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:40:28.491 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:40:28.491 DEBUG 1200 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:40:28.495 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:40:28.495 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 12:40:28.499 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:28.499 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:28.499 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 8(Long)
2020-02-09 12:40:28.499 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 3
2020-02-09 12:40:28.503  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:28.503  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:40:30.500  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=8, title=spring注解之@Import, content=hahhahahaaha, firstPicture=1, flag=转载, views=null, description=123124215412312, isAppreciation=true, isShare=null, isComment=null, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2,4,5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:40:30.500 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:30.500 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 8(Long)
2020-02-09 12:40:30.500 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 3
2020-02-09 12:40:30.505 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:30.505 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:40:30.505 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 12:40:30.509 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:30.513 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:40:30.513 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring注解之@Import(String), hahhahahaaha(String), 1(String), 转载(String), 123124215412312(String), true(Boolean), false(Boolean), true(Boolean), 6(Long), 1(Long), 8(Long)
2020-02-09 12:40:30.513 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:40:30.517 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:30.517 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 2(Long)
2020-02-09 12:40:30.517 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:30.521 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:30.521 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 4(Long)
2020-02-09 12:40:30.521 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:30.525 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:30.525 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 5(Long)
2020-02-09 12:40:30.525 DEBUG 1200 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:30.529  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:30.529  INFO 1200 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:40:30.533  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:40:30.533 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:40:30.533 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:40:30.533 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:40:30.533 DEBUG 1200 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:40:30.533 DEBUG 1200 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:40:30.537 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:30.541 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:30.541 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:30.541 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:30.541  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:30.541  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:40:53.269  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[1, {}]}
2020-02-09 12:40:53.269 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:53.273 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:53.273 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:53.273 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:40:53.273 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:40:53.273 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:40:53.277 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:40:53.277 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:53.281 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:53.281 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:53.281 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 1(Long)
2020-02-09 12:40:53.285 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 12:40:53.285  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:53.285  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:40:55.059  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=1, title=spring, content=我学会了spring, firstPicture=1, flag=, views=null, description=dsagsdagasg, isAppreciation=true, isShare=true, isComment=true, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:40:55.063 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:55.063 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 1(Long)
2020-02-09 12:40:55.063 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 12:40:55.067 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:55.067 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:40:55.067 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:55.071 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:40:55.071 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring(String), 我学会了spring(String), 1(String), (String), dsagsdagasg(String), true(Boolean), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 6(Long), 1(Long), 1(Long)
2020-02-09 12:40:55.071 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:40:55.075 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:55.075 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 1(Long), 2(Long)
2020-02-09 12:40:55.075 DEBUG 1200 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:55.079  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:55.079  INFO 1200 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:40:55.083  INFO 1200 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:55.087 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:55.091 DEBUG 1200 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:55.095 DEBUG 1200 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:55.095 DEBUG 1200 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:55.095  INFO 1200 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:55.095  INFO 1200 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:40:58.017  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[8, {}]}
2020-02-09 12:40:58.021 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:58.021 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:58.021 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:58.021 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:40:58.021 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:40:58.025 DEBUG 1200 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:40:58.025 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:40:58.025 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 12:40:58.025 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:58.029 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:58.029 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 8(Long)
2020-02-09 12:40:58.029 DEBUG 1200 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 3
2020-02-09 12:40:58.033  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:58.033  INFO 1200 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:40:59.545  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=8, title=spring注解之@Import, content=hahhahahaaha, firstPicture=1, flag=转载, views=null, description=123124215412312, isAppreciation=true, isShare=null, isComment=null, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2,4,5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@7deecf19, {}]}
2020-02-09 12:40:59.549 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:40:59.549 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 8(Long)
2020-02-09 12:40:59.558 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 3
2020-02-09 12:40:59.558 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:59.558 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:40:59.562 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:59.562 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:59.562 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 12:40:59.566 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:59.566 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:40:59.566 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 12:40:59.566 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:40:59.570 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_publish = ?,is_recommend = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:40:59.570 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring注解之@Import(String), hahhahahaaha(String), 1(String), 转载(String), 123124215412312(String), true(Boolean), true(Boolean), true(Boolean), 6(Long), 1(Long), 8(Long)
2020-02-09 12:40:59.570 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:40:59.570 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:59.574 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 2(Long)
2020-02-09 12:40:59.574 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:59.574 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:59.574 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 4(Long)
2020-02-09 12:40:59.578 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:59.578 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:40:59.578 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 5(Long)
2020-02-09 12:40:59.582 DEBUG 1200 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:40:59.582  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:59.582  INFO 1200 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:40:59.586  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:40:59.590 DEBUG 1200 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:40:59.594 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:40:59.598 DEBUG 1200 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:40:59.598  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:40:59.598  INFO 1200 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:43:12.181  INFO 15988 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 15988 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 12:43:12.185 DEBUG 15988 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 12:43:12.185  INFO 15988 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 12:43:12.219  INFO 15988 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 12:43:12.219  INFO 15988 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.625  WARN 15988 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:43:12.735  WARN 15988 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:43:13.236  INFO 15988 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 12:43:13.244  INFO 15988 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 12:43:13.244  INFO 15988 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 12:43:13.244  INFO 15988 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 12:43:13.244  INFO 15988 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 12:43:13.244  INFO 15988 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 12:43:13.247  INFO 15988 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 12:43:13.303  INFO 15988 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 12:43:13.303  INFO 15988 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1084 ms
2020-02-09 12:43:14.064  INFO 15988 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 12:43:14.139  INFO 15988 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 12:43:14.228  INFO 15988 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 12:43:14.228  INFO 15988 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 12:43:14.228  INFO 15988 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 12:43:14.228  INFO 15988 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 12:43:14.420  INFO 15988 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 12:43:14.456  INFO 15988 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 12:43:14.460  INFO 15988 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.713 seconds (JVM running for 3.759)
2020-02-09 12:45:05.748  INFO 15988 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 12:45:05.748  INFO 15988 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 12:45:05.756  INFO 15988 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-02-09 12:45:05.784  INFO 15988 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 12:45:05.788  INFO 15988 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:05.792  INFO 15988 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 12:45:08.821  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@2d91b5f1, {}]}
2020-02-09 12:45:08.845  INFO 15988 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 12:45:08.950  INFO 15988 --- [http-nio-8080-exec-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 12:45:08.954 DEBUG 15988 --- [http-nio-8080-exec-6] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 12:45:08.970 DEBUG 15988 --- [http-nio-8080-exec-6] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 12:45:08.986 DEBUG 15988 --- [http-nio-8080-exec-6] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 12:45:08.990  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:08.990  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 12:45:10.387  INFO 15988 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 12:45:10.427 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:45:10.427 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:45:10.427 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:45:10.431 DEBUG 15988 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:45:10.431 DEBUG 15988 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:45:10.435 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:45:10.439 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:10.439 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:10.439 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:45:10.439 DEBUG 15988 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:10.443 DEBUG 15988 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:45:10.443 DEBUG 15988 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:45:10.443 DEBUG 15988 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:45:10.443  INFO 15988 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:10.447  INFO 15988 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:45:11.886  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[1, {}]}
2020-02-09 12:45:11.890 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:45:11.890 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:45:11.892 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:45:11.900 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:45:11.900 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:45:11.900 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:45:11.900 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:45:11.904 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:45:11.904 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:11.912 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:45:11.912 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 1(Long)
2020-02-09 12:45:11.916 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 12:45:11.916  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:11.916  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:45:14.224  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=1, title=spring, content=我学会了spring, firstPicture=1, flag=, views=null, description=dsagsdagasg, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@2d91b5f1, {}]}
2020-02-09 12:45:14.228 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:45:14.228 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 1(Long)
2020-02-09 12:45:14.228 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 12:45:14.231 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:45:14.231 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:45:14.235 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:45:14.235 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:45:14.239 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring(String), 我学会了spring(String), 1(String), (String), dsagsdagasg(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 12:45:14.235(Timestamp), 6(Long), 1(Long), 1(Long)
2020-02-09 12:45:14.239 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:45:14.243 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:45:14.247 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 1(Long), 2(Long)
2020-02-09 12:45:14.247 DEBUG 15988 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:45:14.247  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:14.247  INFO 15988 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:45:14.263  INFO 15988 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:45:14.267 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:45:14.267 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:45:14.267 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:45:14.267 DEBUG 15988 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:45:14.267 DEBUG 15988 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:45:14.271 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:45:14.275 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:14.275 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:14.275 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:45:14.279 DEBUG 15988 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:14.279 DEBUG 15988 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:45:14.279 DEBUG 15988 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:45:14.279 DEBUG 15988 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:45:14.279  INFO 15988 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:14.279  INFO 15988 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:45:21.901  INFO 15988 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[8, {}]}
2020-02-09 12:45:21.901 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:45:21.901 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:45:21.905 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:45:21.905 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 12:45:21.905 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 12:45:21.909 DEBUG 15988 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 12:45:21.909 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 12:45:21.909 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 12:45:21.914 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:21.918 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:45:21.918 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 8(Long)
2020-02-09 12:45:21.922 DEBUG 15988 --- [http-nio-8080-exec-10] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 3
2020-02-09 12:45:21.922  INFO 15988 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:21.922  INFO 15988 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 12:45:23.413  INFO 15988 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=8, title=spring注解之@Import, content=hahhahahaaha, firstPicture=1, flag=转载, views=null, description=123124215412312, isAppreciation=true, isShare=null, isComment=null, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=6, userId=null, tagIds=2,4,5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@2d91b5f1, {}]}
2020-02-09 12:45:23.413 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 12:45:23.413 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 8(Long)
2020-02-09 12:45:23.417 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 3
2020-02-09 12:45:23.425 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:45:23.425 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 12:45:23.425 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:45:23.429 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:45:23.429 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 12:45:23.429 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:45:23.429 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 12:45:23.429 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 12:45:23.433 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 12:45:23.433 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 12:45:23.433 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: spring注解之@Import(String), hahhahahaaha(String), 1(String), 转载(String), 123124215412312(String), true(Boolean), false(Boolean), true(Boolean), 2020-02-09 12:45:23.433(Timestamp), 6(Long), 1(Long), 8(Long)
2020-02-09 12:45:23.437 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 12:45:23.437 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:45:23.437 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 2(Long)
2020-02-09 12:45:23.441 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:45:23.441 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:45:23.441 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 4(Long)
2020-02-09 12:45:23.445 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:45:23.445 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 12:45:23.445 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 8(Long), 5(Long)
2020-02-09 12:45:23.445 DEBUG 15988 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 12:45:23.449  INFO 15988 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:23.449  INFO 15988 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 12:45:23.453  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:23.457 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 12:45:23.461 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 12:45:23.465 DEBUG 15988 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 12:45:23.465 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 12:45:23.465 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 12:45:23.469 DEBUG 15988 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 8
2020-02-09 12:45:23.469  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:45:23.469  INFO 15988 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 12:59:34.404  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 876 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 12:59:34.408 DEBUG 876 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 12:59:34.409  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 12:59:34.493  INFO 876 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 12:59:34.494  INFO 876 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 12:59:35.352  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.353  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.353  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.353  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.353  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.353  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.354  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:59:35.529  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.529  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.529  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.529  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.529  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.530  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 12:59:35.530  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 12:59:36.311  INFO 876 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 12:59:36.322  INFO 876 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 12:59:36.322  INFO 876 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 12:59:36.325  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 12:59:36.325  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 12:59:36.325  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 12:59:36.329  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 12:59:36.424  INFO 876 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 12:59:36.424  INFO 876 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1929 ms
2020-02-09 12:59:38.455  INFO 876 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 12:59:38.612  INFO 876 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 12:59:38.789  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 12:59:38.789  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 12:59:38.790  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 12:59:38.790  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 12:59:39.137  INFO 876 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 12:59:39.197  INFO 876 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 12:59:39.202  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 5.905 seconds (JVM running for 8.812)
2020-02-09 12:59:39.367  INFO 876 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 12:59:39.368  INFO 876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 12:59:39.388  INFO 876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 20 ms
2020-02-09 12:59:39.429  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 12:59:39.438  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 12:59:39.439  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 13:00:04.436  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='127.0.0.1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:00:04.447  INFO 876 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 13:00:04.551  INFO 876 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 13:00:04.628 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:00:04.647 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:00:04.675 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:00:04.677 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:00:04.678 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:00:04.683 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:00:04.684 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:00:04.685 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:00:04.686 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.686 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:00:04.687 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:00:04.689 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.689 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:00:04.690 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:00:04.690 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.696 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:00:04.697 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:00:04.708 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 2
2020-02-09 13:00:04.709 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:00:04.710 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:00:04.712 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.716 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:00:04.716 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 6(Long)
2020-02-09 13:00:04.718 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:00:04.718 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:00:04.718 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:00:04.719 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.720 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:00:04.720 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 3(Long)
2020-02-09 13:00:04.722 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 13:00:04.729 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:00:04.729 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:00:04.730 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 4
2020-02-09 13:00:04.731 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:00:04.731 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:00:04.732 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:00:04.732 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:00:04.732 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:00:04.733 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:00:04.734 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:00:04.734 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:00:04.736 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.736 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:00:04.736 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 13:00:04.738 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.739 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:00:04.739 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 9(Long)
2020-02-09 13:00:04.741 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:00:04.742 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:00:04.742 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:00:04.743 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:00:04.743 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:00:04.744 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 4(Long)
2020-02-09 13:00:04.745 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:00:04.745 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:00:04.745 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:00:04.746 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:00:04.746 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:00:04.746 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 13:00:04.747 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:00:04.748 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:00:04.748 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:00:04.749 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:00:04.749 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:00:04.749 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:00:04.750 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:00:04.752 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:00:04.752 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:00:04.754 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:00:04.755  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:00:04.755  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:00:04.799 ERROR 876 --- [http-nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.user.nickname" (template: "index" - line 66, col 75)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.user.nickname" (template: "index" - line 66, col 75)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'nickname' cannot be found on object of type 'com.zl.pojo.User' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 75 common frames omitted

2020-02-09 13:00:04.802 ERROR 876 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'nickname' cannot be found on object of type 'com.zl.pojo.User' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 13:01:37.591  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:01:37.595 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:01:37.595 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:01:37.597 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:01:37.599 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:01:37.600 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:01:37.606 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:01:37.607 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:37.608 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:01:37.609 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.609 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:01:37.610 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:01:37.611 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.613 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:37.613 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:01:37.614 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.615 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:01:37.616 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:01:37.633 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 2
2020-02-09 13:01:37.633 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:37.633 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:01:37.634 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.635 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:01:37.636 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 6(Long)
2020-02-09 13:01:37.637 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:01:37.638 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:37.638 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:01:37.639 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.639 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:01:37.640 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 3(Long)
2020-02-09 13:01:37.641 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 13:01:37.642 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:01:37.643 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:01:37.645 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 4
2020-02-09 13:01:37.647 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:37.647 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:01:37.648 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:37.649 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:37.650 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:01:37.652 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:01:37.653 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:37.653 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:01:37.655 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.656 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:37.656 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 13:01:37.657 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.658 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:37.658 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 9(Long)
2020-02-09 13:01:37.659 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:37.659 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:37.660 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:01:37.661 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:37.662 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:37.662 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 4(Long)
2020-02-09 13:01:37.663 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:37.664 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:37.664 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:01:37.665 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:37.665 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:37.665 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 13:01:37.666 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:37.667 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:37.667 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:01:37.667 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:37.668 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:37.668 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:01:37.669 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:37.670 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:01:37.671 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:01:37.672 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:01:37.673  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:01:37.673  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:01:37.691 ERROR 876 --- [http-nio-8080-exec-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-3] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#dates.format(blog.update,'yyyy-MM-dd')" (template: "index" - line 69, col 62)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#dates.format(blog.update,'yyyy-MM-dd')" (template: "index" - line 69, col 62)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method 'format' on object of type 'org.thymeleaf.expression.Dates': 'Problem invoking method: public java.lang.String org.thymeleaf.expression.Dates.format(java.util.Date,java.lang.String)'
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:386)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 75 common frames omitted
Caused by: org.springframework.expression.AccessException: Problem invoking method: public java.lang.String org.thymeleaf.expression.Dates.format(java.util.Date,java.lang.String)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:133)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)
	... 81 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1001E: Type conversion problem, cannot convert from java.lang.String to java.util.Date
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:75)
	at org.springframework.expression.spel.support.ReflectionHelper.convertArguments(ReflectionHelper.java:272)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:122)
	... 82 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.util.Date] for value '2020-02-09 12:45:14'; nested exception is java.lang.IllegalArgumentException
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:112)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191)
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:70)
	... 84 common frames omitted
Caused by: java.lang.IllegalArgumentException: null
	at java.util.Date.parse(Date.java:617)
	at java.util.Date.<init>(Date.java:274)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:108)
	... 87 common frames omitted

2020-02-09 13:01:37.694 ERROR 876 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")] with root cause

java.lang.IllegalArgumentException: null
	at java.util.Date.parse(Date.java:617)
	at java.util.Date.<init>(Date.java:274)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:108)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191)
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:70)
	at org.springframework.expression.spel.support.ReflectionHelper.convertArguments(ReflectionHelper.java:272)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:122)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:386)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 13:01:41.891  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:01:41.897 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:01:41.897 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:01:41.898 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:01:41.899 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:01:41.899 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:01:41.900 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:01:41.901 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:41.901 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:01:41.901 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.902 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:01:41.902 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:01:41.902 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.903 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:41.903 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:01:41.903 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.904 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:01:41.905 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:01:41.918 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 2
2020-02-09 13:01:41.918 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:41.918 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:01:41.918 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.919 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:01:41.919 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 6(Long)
2020-02-09 13:01:41.920 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:01:41.920 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:01:41.920 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:01:41.921 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.922 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:01:41.922 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 3(Long)
2020-02-09 13:01:41.923 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 13:01:41.925 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:01:41.925 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:01:41.927 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 4
2020-02-09 13:01:41.928 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:41.928 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:01:41.929 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:41.929 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:41.929 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:01:41.929 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:01:41.930 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:41.930 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:01:41.930 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.931 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:41.931 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 13:01:41.932 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.932 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:01:41.932 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 9(Long)
2020-02-09 13:01:41.933 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:01:41.933 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:41.933 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:01:41.934 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:41.934 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:41.934 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 4(Long)
2020-02-09 13:01:41.935 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:41.935 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:41.936 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:01:41.936 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:41.936 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:41.936 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 13:01:41.937 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:41.938 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:01:41.938 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:01:41.938 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:01:41.938 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:01:41.939 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:01:41.939 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:01:41.942 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:01:41.942 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:01:41.944 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:01:41.945  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:01:41.946  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:01:41.956 ERROR 876 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#dates.format(blog.update,'yyyy-MM-dd')" (template: "index" - line 69, col 62)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#dates.format(blog.update,'yyyy-MM-dd')" (template: "index" - line 69, col 62)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method 'format' on object of type 'org.thymeleaf.expression.Dates': 'Problem invoking method: public java.lang.String org.thymeleaf.expression.Dates.format(java.util.Date,java.lang.String)'
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:386)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 75 common frames omitted
Caused by: org.springframework.expression.AccessException: Problem invoking method: public java.lang.String org.thymeleaf.expression.Dates.format(java.util.Date,java.lang.String)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:133)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)
	... 81 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1001E: Type conversion problem, cannot convert from java.lang.String to java.util.Date
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:75)
	at org.springframework.expression.spel.support.ReflectionHelper.convertArguments(ReflectionHelper.java:272)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:122)
	... 82 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [java.util.Date] for value '2020-02-09 12:45:14'; nested exception is java.lang.IllegalArgumentException
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:112)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191)
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:70)
	... 84 common frames omitted
Caused by: java.lang.IllegalArgumentException: null
	at java.util.Date.parse(Date.java:617)
	at java.util.Date.<init>(Date.java:274)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:108)
	... 87 common frames omitted

2020-02-09 13:01:41.960 ERROR 876 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")] with root cause

java.lang.IllegalArgumentException: null
	at java.util.Date.parse(Date.java:617)
	at java.util.Date.<init>(Date.java:274)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at org.springframework.core.convert.support.ObjectToObjectConverter.convert(ObjectToObjectConverter.java:108)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:191)
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:70)
	at org.springframework.expression.spel.support.ReflectionHelper.convertArguments(ReflectionHelper.java:272)
	at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:122)
	at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)
	at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55)
	at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:386)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.Model.process(Model.java:290)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 13:03:33.846  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:03:33.849 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:03:33.850 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:03:33.851 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:03:33.851 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:03:33.852 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:03:33.853 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:03:33.853 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:03:33.853 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:03:33.853 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.854 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:03:33.854 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:03:33.854 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.855 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:03:33.855 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:03:33.856 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.858 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:03:33.858 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:03:33.873 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 2
2020-02-09 13:03:33.874 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:03:33.874 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 6(Long)
2020-02-09 13:03:33.875 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.876 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:03:33.876 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 6(Long)
2020-02-09 13:03:33.878 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:03:33.878 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:03:33.878 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 3(Long)
2020-02-09 13:03:33.879 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.880 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:03:33.880 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 3(Long)
2020-02-09 13:03:33.880 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 13:03:33.881 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:03:33.881 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:03:33.882 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 4
2020-02-09 13:03:33.882 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:03:33.882 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:03:33.883 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:03:33.883 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:03:33.883 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:03:33.883 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:03:33.884 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:03:33.884 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:03:33.884 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.884 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 8(Long)
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 9(Long)
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:03:33.885 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:03:33.886 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:03:33.886 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:03:33.886 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 4(Long)
2020-02-09 13:03:33.887 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:03:33.887 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:03:33.887 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:03:33.887 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:03:33.888 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:03:33.888 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 13:03:33.888 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:03:33.889 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:03:33.889 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:03:33.891 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:03:33.891 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:03:33.891 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:03:33.892 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:03:33.894 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:03:33.894 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:03:33.896 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:03:33.897  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:03:33.897  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:08:17.790  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 13:08:17.790  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:08:17.790  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 13:08:21.611  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:08:21.615 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 13:08:21.616 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 13:08:21.617 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 13:08:21.618  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:08:21.618  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 13:08:22.697  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 13:08:22.700 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:08:22.701 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:08:22.701 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:08:22.702 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:08:22.702 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:08:22.703 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:08:22.703  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:08:22.703  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:08:25.097  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/input', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlogPage', args=[{}]}
2020-02-09 13:08:25.099 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:08:25.099 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:08:25.100 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:08:25.101 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:08:25.101 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:08:25.103 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:08:25.104  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:08:25.104  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:10:46.591  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=null, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=1,2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:10:46.595 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:10:46.595 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:10:46.596 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:10:46.597 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:10:46.597 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:10:46.597 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:10:46.601 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : ==>  Preparing: INSERT INTO t_blog ( id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id ) VALUES( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? ) 
2020-02-09 13:10:46.604 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : ==> Parameters: null, 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), (String), 0(Integer), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:10:46.598(Timestamp), 2020-02-09 13:10:46.598(Timestamp), 1(Long), 1(Long)
2020-02-09 13:10:46.611 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : <==    Updates: 1
2020-02-09 13:10:46.615 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 13:10:46.617 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.insertSelective!selectKey        : <==      Total: 1
2020-02-09 13:10:46.622 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:10:46.622 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 1(Long)
2020-02-09 13:10:46.623 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:10:46.627 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:10:46.628 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 13:10:46.628 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:10:46.631  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:10:46.631  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:10:46.652  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:10:46.653 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:10:46.653 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:10:46.654 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:10:46.655 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:10:46.655 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:10:46.656 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 13:10:46.656 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:10:46.656 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:10:46.657 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:10:46.658 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:10:46.658 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:10:46.659 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:10:46.661 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:10:46.661 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:10:46.662 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:10:46.662  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:10:46.662  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:10:49.335  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/input', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlogPage', args=[{}]}
2020-02-09 13:10:49.336 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:10:49.337 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:10:49.338 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:10:49.340 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:10:49.340 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:10:49.341 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:10:49.343  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:10:49.343  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:12:49.893  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=null, title=一、Spring注解之@ComponentScan, content=## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=@ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=1,2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:12:49.899 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:12:49.899 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:12:49.900 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:12:49.902 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:12:49.902 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:12:49.903 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:12:49.905 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.insertSelective   : ==>  Preparing: INSERT INTO t_blog ( id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id ) VALUES( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? ) 
2020-02-09 13:12:49.906 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.insertSelective   : ==> Parameters: null, 一、Spring注解之@ComponentScan(String), ## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。(String), https://unsplash.it/800/450?image=1005(String), (String), 0(Integer), @ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:12:49.904(Timestamp), 2020-02-09 13:12:49.904(Timestamp), 1(Long), 1(Long)
2020-02-09 13:12:49.909 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.insertSelective   : <==    Updates: 1
2020-02-09 13:12:49.910 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.B.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 13:12:49.912 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.B.insertSelective!selectKey        : <==      Total: 1
2020-02-09 13:12:49.916 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:12:49.916 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 13(Long), 1(Long)
2020-02-09 13:12:49.917 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:12:49.920 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:12:49.921 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 13(Long), 2(Long)
2020-02-09 13:12:49.921 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:12:49.923  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:12:49.924  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:12:49.930  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:12:49.932 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:12:49.933 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:12:49.933 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:12:49.934 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:12:49.934 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:12:49.936 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:12:49.936 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:12:49.936 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:12:49.936 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:12:49.937 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:12:49.937 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:12:49.937 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:12:49.938 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:12:49.938 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:12:49.939 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:12:49.939  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:12:49.940  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:12:57.249  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/types', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.TypeController.queryTypesByPage', args=[1, 5, {}]}
2020-02-09 13:12:57.254 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.TypeMapper.selectAll_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type 
2020-02-09 13:12:57.254 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.TypeMapper.selectAll_COUNT   : ==> Parameters: 
2020-02-09 13:12:57.255 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.TypeMapper.selectAll_COUNT   : <==      Total: 1
2020-02-09 13:12:57.256 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type LIMIT ? 
2020-02-09 13:12:57.256 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 5(Integer)
2020-02-09 13:12:57.257 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:12:57.258  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:12:57.259  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/types
2020-02-09 13:13:02.112  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:13:02.113 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:13:02.114 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:13:02.114 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:13:02.115 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:13:02.116 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:13:02.118 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:13:02.118 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:13:02.119 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:13:02.120 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:13:02.120 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:13:02.120 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:13:02.121 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:13:02.123 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:13:02.123 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:13:02.129 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:13:02.129 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:13:02.129 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:13:02.130 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:13:02.130 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:13:02.131 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:13:02.132 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:13:02.134 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:13:02.134 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:13:02.136 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 2
2020-02-09 13:13:02.137 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:13:02.138 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:13:02.139 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:13:02.139 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:13:02.139 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:13:02.140 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 2
2020-02-09 13:13:02.141 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:13:02.141 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:13:02.142 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:13:02.143 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:13:02.143 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:13:02.144 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:13:02.145 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:13:02.145 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:13:02.145 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:13:02.146 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:13:02.146 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:13:02.146 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 2
2020-02-09 13:13:02.148 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:13:02.148 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:13:02.150 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 13:13:02.152  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:13:02.152  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:13:49.422  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/input', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlogPage', args=[{}]}
2020-02-09 13:13:49.423 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:13:49.424 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:13:49.424 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:13:49.427 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:13:49.427 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:13:49.428 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:13:49.428  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:13:49.428  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:15:21.878  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=null, title=三、Spring注解之@Import, content=## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description= ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2,3, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:15:21.880 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:15:21.880 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:15:21.881 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:15:21.883 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:15:21.883 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:15:21.884 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:15:21.886 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.insertSelective   : ==>  Preparing: INSERT INTO t_blog ( id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id ) VALUES( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? ) 
2020-02-09 13:15:21.888 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.insertSelective   : ==> Parameters: null, 三、Spring注解之@Import(String), ## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```(String), https://unsplash.it/800/450?image=1005(String), (String), 0(Integer),  ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:15:21.885(Timestamp), 2020-02-09 13:15:21.885(Timestamp), 1(Long), 1(Long)
2020-02-09 13:15:21.890 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.insertSelective   : <==    Updates: 1
2020-02-09 13:15:21.890 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 13:15:21.891 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.insertSelective!selectKey        : <==      Total: 1
2020-02-09 13:15:21.895 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:15:21.895 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 14(Long), 2(Long)
2020-02-09 13:15:21.895 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:15:21.899 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:15:21.900 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 14(Long), 3(Long)
2020-02-09 13:15:21.901 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:15:21.904  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:15:21.904  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:15:21.911  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:15:21.912 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:15:21.913 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:15:21.913 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:15:21.914 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:15:21.914 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:15:21.915 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:15:21.915 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:15:21.915 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:15:21.916 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:21.916 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:15:21.916 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:15:21.917 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:21.920 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:15:21.920 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:15:21.920 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:15:21.921  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:15:21.921  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:15:26.079  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:15:26.081 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:15:26.081 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:15:26.082 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:15:26.083 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:15:26.083 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:15:26.084 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:15:26.084 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:15:26.085 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:15:26.085 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.086 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:15:26.086 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:15:26.087 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.089 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:15:26.089 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:15:26.101 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:15:26.101 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:15:26.101 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:15:26.102 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.102 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:15:26.102 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:15:26.104 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:15:26.104 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:15:26.105 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:15:26.105 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 13:15:26.106 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:15:26.106 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:15:26.106 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:15:26.106 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:15:26.106 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:15:26.107 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:15:26.107 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:15:26.107 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:15:26.108 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.108 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:15:26.108 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:15:26.109 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.109 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:15:26.109 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:15:26.110 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:15:26.110 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:15:26.110 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:15:26.111 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:15:26.111 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:15:26.111 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:15:26.112 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 2
2020-02-09 13:15:26.113 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:15:26.113 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:15:26.114 DEBUG 876 --- [http-nio-8080-exec-10] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:15:26.114 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:15:26.114 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 13:15:26.115 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:15:26.117 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:15:26.117 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:15:26.118 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 13:15:26.118  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:15:26.118  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:17:14.445  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/input', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlogPage', args=[{}]}
2020-02-09 13:17:14.447 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:17:14.447 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:17:14.448 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:17:14.449 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:17:14.449 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:17:14.450 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:17:14.451  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:17:14.451  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:18:20.122  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=null, title=Redis详解（一）——RDB, content=## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=3,4, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:18:20.124 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:20.124 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:18:20.125 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:20.127 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:20.128 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:18:20.129 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:20.131 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : ==>  Preparing: INSERT INTO t_blog ( id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id ) VALUES( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? ) 
2020-02-09 13:18:20.132 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : ==> Parameters: null, Redis详解（一）——RDB(String), ## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。(String), https://unsplash.it/800/450?image=1005(String), (String), 0(Integer), 由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:18:20.13(Timestamp), 2020-02-09 13:18:20.13(Timestamp), 1(Long), 1(Long)
2020-02-09 13:18:20.133 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.insertSelective   : <==    Updates: 1
2020-02-09 13:18:20.134 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 13:18:20.134 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.insertSelective!selectKey        : <==      Total: 1
2020-02-09 13:18:20.137 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:18:20.137 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 15(Long), 3(Long)
2020-02-09 13:18:20.138 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:18:20.141 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:18:20.142 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 15(Long), 4(Long)
2020-02-09 13:18:20.143 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:18:20.146  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:20.146  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:18:20.152  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:18:20.153 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:18:20.153 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:18:20.153 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:18:20.154 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:18:20.154 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:18:20.155 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:20.155 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:18:20.155 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:20.156 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:20.156 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:18:20.156 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:20.156 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:20.157 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:20.157 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:20.158 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:20.160  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:20.160  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:18:23.150  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:18:23.152 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:18:23.152 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:18:23.153 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:18:23.154 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:18:23.154 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:18:23.156 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:23.156 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:18:23.156 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:23.157 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.157 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:18:23.157 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:23.158 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.159 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:18:23.160 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:18:23.174 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:18:23.174 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:18:23.174 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:23.175 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.175 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:18:23.175 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:18:23.177 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:23.178 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:18:23.179 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:18:23.179 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 4
2020-02-09 13:18:23.179 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:23.180 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:18:23.180 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:23.180 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:18:23.180 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:18:23.181 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:18:23.181 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:23.181 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:18:23.182 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.182 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:23.182 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:18:23.183 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.183 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:23.183 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:18:23.184 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 13:18:23.185 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 2
2020-02-09 13:18:23.185 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:23.185 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:18:23.186 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:23.186 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:23.186 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 1(Long)
2020-02-09 13:18:23.186 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:23.187 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:18:23.187 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 1(Long)
2020-02-09 13:18:23.187 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 2
2020-02-09 13:18:23.187 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:23.187 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 4(Long)
2020-02-09 13:18:23.188 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:23.188 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:18:23.188 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 4(Long)
2020-02-09 13:18:23.188 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:18:23.190 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:18:23.190 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:18:23.191 DEBUG 876 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:23.191  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:23.191  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:18:38.056  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[13, {}]}
2020-02-09 13:18:38.057 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:38.058 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:38.059 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:38.060 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:18:38.061 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:18:38.062 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:18:38.063 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:38.064 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:18:38.065 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:38.067 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:18:38.067 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 13(Long)
2020-02-09 13:18:38.068 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 2
2020-02-09 13:18:38.069  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:38.069  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:18:45.313  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=13, title=一、Spring注解之@ComponentScan, content=## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=@ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:18:45.320 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:18:45.320 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 13(Long)
2020-02-09 13:18:45.321 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 2
2020-02-09 13:18:45.334 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:45.334 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:18:45.335 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:45.337 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:18:45.339 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 一、Spring注解之@ComponentScan(String), ## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。(String), https://unsplash.it/800/450?image=1005(String), (String), @ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:18:45.336(Timestamp), 1(Long), 1(Long), 13(Long)
2020-02-09 13:18:45.343 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:18:45.346 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:18:45.346 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 13(Long), 2(Long)
2020-02-09 13:18:45.346 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:18:45.349  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:45.349  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:18:45.353  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:18:45.354 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:18:45.354 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:18:45.355 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:18:45.355 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:18:45.356 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:18:45.356 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:45.357 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:18:45.357 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:45.357 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:45.357 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:18:45.357 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:45.358 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:45.359 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:45.359 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:45.360 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:45.360  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:45.360  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:18:46.513  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[14, {}]}
2020-02-09 13:18:46.515 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:46.515 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:46.516 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:46.517 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:18:46.518 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:18:46.518 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:18:46.520 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:46.520 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:18:46.521 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:46.522 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:18:46.522 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 14(Long)
2020-02-09 13:18:46.523 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 2
2020-02-09 13:18:46.523  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:46.523  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:18:56.450  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=14, title=三、Spring注解之@Import, content=## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description= ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:18:56.452 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:18:56.452 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 14(Long)
2020-02-09 13:18:56.452 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 2
2020-02-09 13:18:56.463 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:18:56.464 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:18:56.464 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:18:56.466 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:18:56.468 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 三、Spring注解之@Import(String), ## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```(String), https://unsplash.it/800/450?image=1005(String), (String),  ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:18:56.465(Timestamp), 1(Long), 1(Long), 14(Long)
2020-02-09 13:18:56.470 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:18:56.473 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:18:56.473 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 14(Long), 2(Long)
2020-02-09 13:18:56.473 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:18:56.475  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:56.475  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:18:56.481  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:18:56.482 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:18:56.483 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:18:56.483 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:18:56.484 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:18:56.484 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:18:56.485 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:18:56.485 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:18:56.485 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:56.486 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:56.486 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:18:56.486 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:18:56.486 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:56.487 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:56.487 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:56.488 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:56.488  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:56.488  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:18:57.998  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[15, {}]}
2020-02-09 13:18:57.999 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:18:57.999 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:18:58.000 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:18:58.001 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:18:58.001 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:18:58.002 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:18:58.003 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:18:58.003 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:18:58.004 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:18:58.005 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:18:58.005 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 15(Long)
2020-02-09 13:18:58.006 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 2
2020-02-09 13:18:58.006  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:18:58.007  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:19:13.700  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=15, title=Redis详解（一）——RDB, content=## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:19:13.705 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:13.706 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 15(Long)
2020-02-09 13:19:13.706 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 2
2020-02-09 13:19:13.709 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:19:13.710 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:19:13.711 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:19:13.713 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:19:13.713 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: Redis详解（一）——RDB(String), ## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。(String), https://unsplash.it/800/450?image=1005(String), (String), 由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:19:13.712(Timestamp), 1(Long), 1(Long), 15(Long)
2020-02-09 13:19:13.715 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:19:13.718 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:19:13.718 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 15(Long), 2(Long)
2020-02-09 13:19:13.719 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:19:13.721  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:13.722  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:19:13.727  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:19:13.728 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:19:13.728 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:19:13.729 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:19:13.729 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:19:13.730 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:19:13.730 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:19:13.731 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:19:13.731 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:13.731 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:13.731 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:19:13.731 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:13.732 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:13.733 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:13.733 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:13.733 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:13.734  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:13.734  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:19:17.406  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[12, {}]}
2020-02-09 13:19:17.408 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:17.408 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:17.409 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:17.411 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:19:17.411 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:19:17.412 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:19:17.413 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:19:17.414 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:19:17.415 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:17.417 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:17.417 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 13:19:17.418 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 2
2020-02-09 13:19:17.418  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:17.419  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:19:46.039  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=12, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:19:46.041 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:46.041 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 12(Long)
2020-02-09 13:19:46.042 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 2
2020-02-09 13:19:46.053 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:19:46.053 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:19:46.054 DEBUG 876 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:19:46.056 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:19:46.056 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), (String), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:19:46.055(Timestamp), 1(Long), 1(Long), 12(Long)
2020-02-09 13:19:46.057 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:19:46.060 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:19:46.061 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 13:19:46.061 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:19:46.063  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:46.063  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:19:46.067  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:19:46.068 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:19:46.068 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:19:46.069 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:19:46.071 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:19:46.071 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:19:46.072 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:19:46.073 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:19:46.073 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:46.074 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:46.074 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:19:46.074 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:46.076 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:46.077 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:46.077 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:46.077 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:46.078  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:46.078  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:19:47.856  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[12, {}]}
2020-02-09 13:19:47.857 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:47.858 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:47.859 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:47.860 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:19:47.861 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:19:47.862 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:19:47.863 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:19:47.864 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:19:47.865 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:47.867 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:47.867 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 13:19:47.868 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:19:47.869  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:47.869  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:19:52.178  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=12, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:19:52.181 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:52.181 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 12(Long)
2020-02-09 13:19:52.182 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:19:52.194 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:19:52.194 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:19:52.194 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:19:52.195 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:19:52.196 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), (String), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:19:52.195(Timestamp), 1(Long), 1(Long), 12(Long)
2020-02-09 13:19:52.199 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:19:52.201 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:19:52.201 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 13:19:52.202 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:19:52.204  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:52.204  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:19:52.209  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:19:52.210 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:19:52.210 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:19:52.210 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:19:52.211 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:19:52.212 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:19:52.212 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:19:52.213 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:19:52.213 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:52.213 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:52.213 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:19:52.213 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:52.214 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:52.215 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:52.215 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:52.215 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:52.215  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:52.215  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:19:53.081  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[13, {}]}
2020-02-09 13:19:53.082 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:53.082 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:53.082 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:53.083 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:19:53.083 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:19:53.084 DEBUG 876 --- [http-nio-8080-exec-6] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:19:53.085 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:19:53.085 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:19:53.086 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:53.088 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:53.088 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 13(Long)
2020-02-09 13:19:53.088 DEBUG 876 --- [http-nio-8080-exec-6] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:19:53.089  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:53.089  INFO 876 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:19:54.944  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=13, title=一、Spring注解之@ComponentScan, content=## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=@ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:19:54.946 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:54.946 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 13(Long)
2020-02-09 13:19:54.947 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:19:54.958 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:19:54.959 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:19:54.959 DEBUG 876 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:19:54.961 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:19:54.961 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 一、Spring注解之@ComponentScan(String), ## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。(String), https://unsplash.it/800/450?image=1005(String), (String), @ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:19:54.96(Timestamp), 1(Long), 1(Long), 13(Long)
2020-02-09 13:19:54.963 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:19:54.966 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:19:54.966 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 13(Long), 2(Long)
2020-02-09 13:19:54.966 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:19:54.969  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:54.969  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:19:54.974  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:19:54.975 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:19:54.976 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:19:54.976 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:19:54.977 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:19:54.977 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:19:54.978 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:19:54.978 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:19:54.978 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:54.979 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:54.979 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:19:54.979 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:54.979 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:54.980 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:54.980 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:54.981 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:54.981  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:54.981  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:19:56.001  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[14, {}]}
2020-02-09 13:19:56.003 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:56.003 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:56.004 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:56.005 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:19:56.005 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:19:56.006 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:19:56.006 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:19:56.007 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:19:56.007 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:56.008 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:56.008 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 14(Long)
2020-02-09 13:19:56.009 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:19:56.010  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:56.010  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:19:57.841  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=14, title=三、Spring注解之@Import, content=## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description= ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:19:57.842 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:57.842 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 14(Long)
2020-02-09 13:19:57.843 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:19:57.856 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:19:57.856 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:19:57.857 DEBUG 876 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:19:57.858 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:19:57.859 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 三、Spring注解之@Import(String), ## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```(String), https://unsplash.it/800/450?image=1005(String), (String),  ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:19:57.858(Timestamp), 1(Long), 1(Long), 14(Long)
2020-02-09 13:19:57.859 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:19:57.862 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:19:57.862 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 14(Long), 2(Long)
2020-02-09 13:19:57.863 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:19:57.865  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:57.865  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:19:57.868  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:19:57.869 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:19:57.870 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:19:57.871 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:19:57.872 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:19:57.872 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:19:57.874 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:19:57.874 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:19:57.874 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:57.875 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:57.875 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:19:57.875 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:19:57.875 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:57.876 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:57.876 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:57.877 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:57.877  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:57.877  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:19:58.936  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[15, {}]}
2020-02-09 13:19:58.936 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:19:58.937 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:19:58.937 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:19:58.938 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:19:58.938 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:19:58.938 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : <==      Total: 6
2020-02-09 13:19:58.939 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:19:58.939 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:19:58.939 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:19:58.940 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:19:58.941 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 15(Long)
2020-02-09 13:19:58.941 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:19:58.941  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:19:58.941  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:20:30.716  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=15, title=Redis详解（一）——RDB, content=## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=3, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:20:30.718 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:30.718 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 15(Long)
2020-02-09 13:20:30.719 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:20:30.723 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:30.723 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:20:30.723 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:30.725 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:20:30.726 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: Redis详解（一）——RDB(String), ## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。(String), https://unsplash.it/800/450?image=1005(String), (String), 由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:20:30.724(Timestamp), 1(Long), 1(Long), 15(Long)
2020-02-09 13:20:30.728 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:20:30.730 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:20:30.730 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 15(Long), 3(Long)
2020-02-09 13:20:30.731 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:20:30.733  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:30.733  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:20:30.737  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:20:30.739 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:30.740 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:30.740 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:30.741 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:30.742 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:30.743 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:30.744 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:30.745 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:30.745 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:30.745 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:30.745  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:30.745  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:20:32.450  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[12, {}]}
2020-02-09 13:20:32.452 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:32.452 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:32.453 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:32.455 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:20:32.455 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:20:32.456 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:20:32.458 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:32.458 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:20:32.459 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:32.460 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:32.460 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 13:20:32.461 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:20:32.461  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:32.461  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:20:34.509  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=12, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:20:34.513 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:34.513 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 12(Long)
2020-02-09 13:20:34.513 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:20:34.518 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:34.518 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:20:34.520 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:34.520 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:20:34.521 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), (String), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:20:34.52(Timestamp), 1(Long), 1(Long), 12(Long)
2020-02-09 13:20:34.523 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:20:34.525 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:20:34.525 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 13:20:34.526 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:20:34.529  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:34.529  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:20:34.532  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:20:34.535 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:34.535 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:34.535 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:34.536 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:34.536 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:34.537 DEBUG 876 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:34.537 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:34.537 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:34.538 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:34.538 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:34.538 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:34.538 DEBUG 876 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:34.539 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:34.539 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:34.539 DEBUG 876 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:34.540  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:34.540  INFO 876 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:20:35.542  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[13, {}]}
2020-02-09 13:20:35.543 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:35.544 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:35.544 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:35.546 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:20:35.546 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:20:35.547 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:20:35.548 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:35.548 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:20:35.549 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:35.550 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:35.550 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 13(Long)
2020-02-09 13:20:35.551 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:20:35.552  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:35.552  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:20:37.597  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=13, title=一、Spring注解之@ComponentScan, content=## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=@ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:20:37.601 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:37.601 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 13(Long)
2020-02-09 13:20:37.602 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:20:37.604 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:37.604 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:20:37.605 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:37.606 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:20:37.607 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 一、Spring注解之@ComponentScan(String), ## Spring注解之@ComponentScan

### 【1】@ComponentScan注解是什么

@ComponentScan主要就是定义**扫描的路径**从中找出标识了**需要装配**的类自动装配到spring的bean容器中

### 【2】@ComponentScan注解的详细使用

**1、创建一个配置类，在配置类上添加 @ComponentScan 注解。该注解默认会扫描该类所在的包下所有的类**

```java
package com.zl.springbase.config;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan
public class MyConfig {
}
```

我的类结构如下：类MyDao上面添加了@Repository注解

![](https://img2018.cnblogs.com/blog/1793081/201910/1793081-20191024213459893-1910281655.png)


测试程序：

```java
public class TestComponentScan {
    @Test
    public void test1(){
        AnnotationConfigApplicationContext context = new AnnotationConfigApplicationContext(MyConfig.class);
        String[] names = context.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println("beanName"+name);
        }
    }
}
/**
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

**2、指定要扫描的包（使用@ComponentScan 的 valule 属性来配置），创建一个controller 包，并在该包下新建一个 MyController 类并添加@Controller注解。**

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase.controller"})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

**3、excludeFilters 和 includeFilters 的使用**

- **excludeFilters**

①使用 excludeFilters 来按照注解类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

​		excludeFilters 的参数是一个 Filter[] 数组，然后指定 FilterType 的类型为 ANNOTATION，也就是通过注解来过滤，最后的 value 则是Controller 注解类。配置之后，在 spring 扫描的时候，就会跳过 com.zl.springBase包下，所有被 @Controller 注解标注的类。

②使用 excludeFilters 来按照指定类型排除某些包的扫描

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.ASSIGNABLE_TYPE,value = {MyDao.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myController
*/
```

 FilterType 的类型为 ASSIGNABLE_TYPE，就是通过指定类型来过滤，value指定为MyDao，则会过滤掉MyDao这个类。

③使用 excludeFilters 来按照自定义类型排除某些包的扫描

首先创建一个实现 TypeFilter 接口的 CustomTypeFilter 类，并实现其 match 方法。

这里简单对扫描到的类名进行判断，如果类名包含”Co“的就符合条件，也就会注入到容器中。

```java
public class CustomTypeFilter implements TypeFilter {
    public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) throws IOException {
        //获取到当前扫描到的类的注解信息
        AnnotationMetadata annotationMetadata = metadataReader.getAnnotationMetadata();
        //获取到当前扫描到的类的信息
        ClassMetadata classMetadata = metadataReader.getClassMetadata();
        //获取到当前扫描到的类的资源
        Resource resource = metadataReader.getResource();
        if (classMetadata.getClassName().contains("Co")) {
            return true;
        }
        return false;
    }
}
```

MyConfig：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},excludeFilters = {
        @Filter(type = FilterType.CUSTOM,value = {CustomTypeFilter.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
*/
```

可以看到MyController已经被过滤掉了，myCofig之所以没有被过滤掉是因为它本身是一个配置类，@Configuration注解类里面包含了@Component注解，所以IOC容器启动后MyConfig会被自动加入容器当中。

- **includeFilters**

使用 includeFilters 来按照规则只包含某些包的扫描

在创建一个 service 的包，并创建一个 MyService 类，再加上一个 @Service 注解

修改MyConfig类：

```java
@Configuration
@ComponentScan(value = {"com.zl.springBase"},includeFilters = {
        @Filter(type = FilterType.ANNOTATION,value = {Controller.class})
})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: myDao
beanName: myController
beanName: myService
*/
```

​		配置里面，应该是只包含 @Controller 注解的类才会被注册到容器中，为什么 @Service，@Repository 注解的类也被注册了呢？这里涉及到 @ComponentScan 的一个 useDefaultFilters 属性的用法，该属性默认值为 true，也就是说 spring 默认会自动发现被 @Component、@Repository、@Service 和 @Controller 标注的类，并注册进容器中。要达到只包含某些包的扫描效果，就必须将这个默认行为给禁用掉（在 @ComponentScan 中将 useDefaultFilters 设为 false 即可）。(String), https://unsplash.it/800/450?image=1005(String), (String), @ComponentScan主要就是定义扫描的路径从中找出标识了需要装配的类自动装配到spring的bean容器中(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:20:37.606(Timestamp), 1(Long), 1(Long), 13(Long)
2020-02-09 13:20:37.610 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:20:37.613 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:20:37.613 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 13(Long), 2(Long)
2020-02-09 13:20:37.613 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:20:37.616  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:37.616  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:20:37.619  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:20:37.620 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:37.620 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:37.621 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:37.621 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:37.621 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:37.622 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:37.623 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:37.623 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:37.623 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:37.623 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:37.623 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:37.624 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:37.625 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:37.625 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:37.625 DEBUG 876 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:37.626  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:37.626  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:20:39.995  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[14, {}]}
2020-02-09 13:20:39.996 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:39.996 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:39.997 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:39.998 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:20:39.998 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:20:39.998 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:20:40.000 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:40.000 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:20:40.001 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:40.002 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:40.003 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 14(Long)
2020-02-09 13:20:40.003 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:20:40.004  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:40.004  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:20:42.081  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=14, title=三、Spring注解之@Import, content=## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description= ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:20:42.083 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:42.083 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 14(Long)
2020-02-09 13:20:42.083 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:20:42.097 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:42.097 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:20:42.097 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:42.098 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:20:42.099 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 三、Spring注解之@Import(String), ## spring注解之@Import

### 【1】@Import

​		参数value接收一个Class数组，将你传入的类以全类名作为id加入IOC容器中

​		比较简单，此处不做详细解释

### 【2】ImportSelector

​		ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。

​		上代码：

```java
//自定义逻辑返回需要导入的组件
public class MyImportSelector implements ImportSelector {
	// 返回值就是导入到容器中的组件全类名
	// AnnotationMetadata：当前标注@Import注解的类的所有注解信息
	public String[] selectImports(AnnotationMetadata importingClassMetadata) {
		return new String[] { "test.spring.ZhangSan", "test.spring.LiSi", "test.spring.WangWu" };
	}
}
```

### 【3】ImportBeanDefinitionRegistrar

​		spring官方就是用这种方式，实现了@Component、@Service等注解的动态注入机制。定义一个ImportBeanDefinitionRegistrar的实现类，然后在有@Configuration注解的配置类上使用@Import导入

​		具体使用：创建一个ImportBeanDefinitionRegistrar的实现类，实现registerBeanDefinitions方法，对组件进行注入。

```java
public class MyBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar {
    /**
     * @param annotationMetadata 当前标注@Import注解的类的所有注解信息
     * @param beanDefinitionRegistry BeanDefinition的注册类
     */
    public void registerBeanDefinitions(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry) {
        RootBeanDefinition beanDefinition = new RootBeanDefinition(Cat.class);
        beanDefinitionRegistry.registerBeanDefinition("cat",beanDefinition);
    }
}
```

​		配置类MyConfig：

```java
@Configuration
@Import(value = {MyBeanDefinitionRegistrar.class})
public class MyConfig {
}

/**测试结果
beanName: org.springframework.context.annotation.internalConfigurationAnnotationProcessor
beanName: org.springframework.context.annotation.internalAutowiredAnnotationProcessor
beanName: org.springframework.context.annotation.internalCommonAnnotationProcessor
beanName: org.springframework.context.event.internalEventListenerProcessor
beanName: org.springframework.context.event.internalEventListenerFactory
beanName: myConfig
beanName: cat
*/
```(String), https://unsplash.it/800/450?image=1005(String), (String),  ImportSelector强调的是复用性，使用它需要创建一个类实现ImportSelector接口，实现方法的返回值是字符串数组，也就是需要注入容器中的组件的全类名。id同样也是全类名。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:20:42.098(Timestamp), 1(Long), 1(Long), 14(Long)
2020-02-09 13:20:42.102 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:20:42.105 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:20:42.106 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 14(Long), 2(Long)
2020-02-09 13:20:42.106 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:20:42.109  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:42.109  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:20:42.113  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:20:42.114 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:42.114 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:42.115 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:42.115 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:42.115 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:42.116 DEBUG 876 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:42.116 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:42.116 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:42.117 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:42.117 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:42.117 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:42.117 DEBUG 876 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:42.118 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:42.118 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:42.118 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:42.119  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:42.119  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:20:43.060  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[15, {}]}
2020-02-09 13:20:43.061 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:43.062 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:43.062 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:43.063 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:20:43.064 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:20:43.064 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:20:43.065 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:43.066 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:20:43.067 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:43.069 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:43.069 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 15(Long)
2020-02-09 13:20:43.070 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:20:43.070  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:43.070  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:20:47.264  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=15, title=Redis详解（一）——RDB, content=## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=3, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:20:47.266 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:20:47.266 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 15(Long)
2020-02-09 13:20:47.266 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:20:47.278 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:47.278 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:20:47.279 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:47.279 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:20:47.280 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: Redis详解（一）——RDB(String), ## Redis详解（一）——RDB

### 前言

由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。但是保存在内存中也随之带来了一个缺点，一旦断电或者宕机，那么内存数据库中的数据将会全部丢失。

　　为了解决这个缺点，Redis提供了将内存数据持久化到硬盘，以及用持久化文件来恢复数据库数据的功能。Redis 支持两种形式的持久化，一种是RDB快照（snapshotting），另外一种是AOF（append-only-file）。本篇博客先对 RDB 快照进行介绍。

### 1、RDB 简介

　　RDB是Redis用来进行持久化的一种方式，是把当前内存中的数据集快照写入磁盘，也就是 Snapshot 快照（数据库中所有键值对数据）。恢复时是将快照文件直接读到内存里。

### 2、触发方式

　　RDB 有两种触发方式，分别是自动触发和手动触发。

#### ①、自动触发

　　在 redis.conf 配置文件中

![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605074856240-1421814394.png)

　　**①、save：**这里是用来配置触发 Redis的 RDB 持久化条件，也就是什么时候将内存中的数据保存到硬盘。比如“save m n”。表示m秒内数据集存在n次修改时，自动触发bgsave（这个命令下面会介绍，手动触发RDB持久化的命令）

　　默认如下配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　当然如果你只是用Redis的缓存功能，不需要持久化，那么你可以注释掉所有的 save 行来停用保存功能。可以直接一个空字符串来实现停用：save ""

　　**②、stop-writes-on-bgsave-error ：**默认值为yes。当启用了RDB且最后一次后台保存数据失败，Redis是否停止接收数据。这会让用户意识到数据没有正确持久化到磁盘上，否则没有人会注意到灾难（disaster）发生了。如果Redis重启了，那么又可以重新开始接收数据了

　　**③、rdbcompression ；**默认值是yes。对于存储到磁盘中的快照，可以设置是否进行压缩存储。如果是的话，redis会采用LZF算法进行压缩。如果你不想消耗CPU来进行压缩的话，可以设置为关闭此功能，但是存储在磁盘上的快照会比较大。

　　**④、rdbchecksum ：**默认值是yes。在存储快照后，我们还可以让redis使用CRC64算法来进行数据校验，但是这样做会增加大约10%的性能消耗，如果希望获取到最大的性能提升，可以关闭此功能。

　　**⑤、dbfilename ：**设置快照的文件名，默认是 dump.rdb

　　**⑥、dir：**设置快照文件的存放路径，这个配置项一定是个目录，而不能是文件名。默认是和当前配置文件保存在同一目录。

　　也就是说通过在配置文件中配置的 save 方式，当实际操作满足该配置形式时就会进行 RDB 持久化，将当前的内存快照保存在 dir 配置的目录中，文件名由配置的 dbfilename 决定。

#### ②、手动触发

　　手动触发Redis进行RDB持久化的命令有两种：

　　1、save

　　该命令会阻塞当前Redis服务器，执行save命令期间，Redis不能处理其他命令，直到RDB过程完成为止。

　　显然该命令对于内存比较大的实例会造成长时间阻塞，这是致命的缺陷，为了解决此问题，Redis提供了第二种方式。

　　2、bgsave

　　执行该命令时，Redis会在后台异步进行快照操作，快照同时还可以响应客户端请求。具体操作是Redis进程执行fork操作创建子进程，RDB持久化过程由子进程负责，完成后自动结束。阻塞只发生在fork阶段，一般时间很短。

　　**基本上 Redis 内部所有的RDB操作都是采用 bgsave 命令。**

　　**ps:执行执行 flushall 命令，也会产生dump.rdb文件，但里面是空的，无意义**

### 3、恢复数据

　　将备份文件 (dump.rdb) 移动到 redis 安装目录并启动服务即可，redis就会自动加载文件数据至内存了。Redis 服务器在载入 RDB 文件期间，会一直处于阻塞状态，直到载入工作完成为止。

　　获取 redis 的安装目录可以使用 config get dir 命令

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605082826419-1580619697.png)

### 4、停止 RDB 持久化

　　有些情况下，我们只想利用Redis的缓存功能，并不像使用 Redis 的持久化功能，那么这时候我们最好停掉 RDB 持久化。可以通过上面讲的在配置文件 redis.conf 中，可以注释掉所有的 save 行来停用保存功能或者直接一个空字符串来实现停用：save ""

　　也可以通过命令：

```
redis-cli config set save " "
```

### 5、RDB 的优势和劣势

　　①、优势

　　1.RDB是一个非常紧凑(compact)的文件，它保存了redis 在某个时间点上的数据集。这种文件非常适合用于进行备份和灾难恢复。

　　2.生成RDB文件的时候，redis主进程会fork()一个子进程来处理所有保存工作，主进程不需要进行任何磁盘IO操作。

　　3.RDB 在恢复大数据集时的速度比 AOF 的恢复速度要快。

　　②、劣势

　　1、RDB方式数据没办法做到实时持久化/秒级持久化。因为bgsave每次运行都要执行fork操作创建子进程，属于重量级操作(内存中的数据被克隆了一份，大致2倍的膨胀性需要考虑)，频繁执行成本过高(影响性能)

　　2、RDB文件使用特定二进制格式保存，Redis版本演进过程中有多个格式的RDB版本，存在老版本Redis服务无法兼容新版RDB格式的问题(版本不兼容)

　　3、在一定间隔时间做一次备份，所以如果redis意外down掉的话，就会丢失最后一次快照后的所有修改(数据有丢失)

### 6、RDB 自动保存的原理

　　Redis有个服务器状态结构：

```
struct redisService{
     //1、记录保存save条件的数组
     struct saveparam *saveparams;
     //2、修改计数器
     long long dirty;
     //3、上一次执行保存的时间
     time_t lastsave;
}
```

　　①、首先看记录保存save条件的数组 saveparam，里面每个元素都是一个 saveparams 结构：

```
struct saveparam{
     //秒数
     time_t seconds;
     //修改数
     int changes;
};
```

　　前面我们在 redis.conf 配置文件中进行了关于save 的配置：

```
save 900 1：表示900 秒内如果至少有 1 个 key 的值变化，则保存
save 300 10：表示300 秒内如果至少有 10 个 key 的值变化，则保存
save 60 10000：表示60 秒内如果至少有 10000 个 key 的值变化，则保存
```

　　那么服务器状态中的saveparam 数组将会是如下的样子：

　　![img](https://images2018.cnblogs.com/blog/1120165/201806/1120165-20180605205542608-719758439.png)

　　②、dirty 计数器和lastsave 属性

　　dirty 计数器记录距离上一次成功执行 save 命令或者 bgsave 命令之后，Redis服务器进行了多少次修改（包括写入、删除、更新等操作）。

　　lastsave 属性是一个时间戳，记录上一次成功执行 save 命令或者 bgsave 命令的时间。

　　通过这两个命令，当服务器成功执行一次修改操作，那么dirty 计数器就会加 1，而lastsave 属性记录上一次执行save或bgsave的时间，Redis 服务器还有一个周期性操作函数 severCron ,默认每隔 100 毫秒就会执行一次，该函数会遍历并检查 saveparams 数组中的所有保存条件，只要有一个条件被满足，那么就会执行 bgsave 命令。

　　执行完成之后，dirty 计数器更新为 0 ，lastsave 也更新为执行命令的完成时间。(String), https://unsplash.it/800/450?image=1005(String), (String), 由于 Redis 是一个内存数据库，所谓内存数据库，就是将数据库中的内容保存在内存中，这与传统的MySQL，Oracle等关系型数据库直接将内容保存到硬盘中相比，内存数据库的读写效率比传统数据库要快的多（内存的读写效率远远大于硬盘的读写效率）。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:20:47.279(Timestamp), 1(Long), 1(Long), 15(Long)
2020-02-09 13:20:47.281 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:20:47.284 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:20:47.285 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 15(Long), 3(Long)
2020-02-09 13:20:47.285 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:20:47.288  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:47.288  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:20:47.293  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:20:47.294 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:47.294 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:47.294 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:47.295 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:47.295 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:47.296 DEBUG 876 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:47.296 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:47.296 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:47.297 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:47.297 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:47.297 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:47.297 DEBUG 876 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:47.298 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:20:47.298 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:20:47.298 DEBUG 876 --- [http-nio-8080-exec-10] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:20:47.299  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:47.299  INFO 876 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:20:50.238  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:20:50.240 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:20:50.240 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:20:50.241 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:20:50.241 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:20:50.242 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:20:50.243 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:50.244 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:50.244 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:50.245 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.245 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:20:50.245 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:50.246 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.248 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:20:50.248 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:20:50.263 DEBUG 876 --- [http-nio-8080-exec-4] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:20:50.263 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:20:50.263 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:20:50.263 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.263 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:20:50.264 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:20:50.264 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:50.265 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:20:50.265 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 2
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:20:50.266 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:20:50.267 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:20:50.267 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:50.267 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:20:50.270 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.270 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:50.270 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:20:50.271 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.272 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:50.272 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:20:50.272 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.272 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:20:50.272 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:20:50.273 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:20:50.274 DEBUG 876 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:20:50.275 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:20:50.275 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:20:50.276 DEBUG 876 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:20:50.276  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:20:50.276  INFO 876 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:21:16.219  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 13:21:16.221 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:21:16.221 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:21:16.221 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:21:16.222 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:21:16.223 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:21:16.228 DEBUG 876 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:21:16.228 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:21:16.228 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:21:16.229 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:16.229 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:21:16.229 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:21:16.229 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:16.230 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:21:16.230 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:21:16.230 DEBUG 876 --- [http-nio-8080-exec-3] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:21:16.231  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:21:16.231  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:21:19.514  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:21:19.516 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:21:19.516 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:21:19.517 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:21:19.518 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:21:19.518 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:21:19.519 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:21:19.519 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:21:19.519 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:21:19.520 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.520 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:21:19.520 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:21:19.520 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.521 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:21:19.521 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:21:19.528 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:21:19.528 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:21:19.528 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:21:19.529 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.529 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:21:19.529 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:21:19.530 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:21:19.531 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:21:19.531 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 2
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:21:19.532 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:21:19.533 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:21:19.534 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.534 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:21:19.534 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:21:19.535 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:21:19.536 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:21:19.536 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:21:19.537 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:21:19.537 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:21:19.538 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 13:21:19.538  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:21:19.539  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:22:14.876  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/input', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlogPage', args=[{}]}
2020-02-09 13:22:14.877 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:22:14.878 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:22:14.878 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:22:14.880 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:22:14.880 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:22:14.880 DEBUG 876 --- [http-nio-8080-exec-7] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:22:14.881  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:22:14.881  INFO 876 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:22:53.945  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=null, title=一、逻辑架构与存储引擎, content=# 逻辑架构与存储引擎

### Mysql逻辑架构介绍

mysql 数据库的逻辑架构如下图

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617123859211-1860022440.png)

mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。

### 连接层

最上层是一些客户端和连接服务，包含本地socket通信和大多数基于客户端/服务端工具实现的类似于tcp/ip的通信。

主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。

当MySQL启动（MySQL服务器就是一个进程），等待客户端连接，每一个客户端连接请求，服务器都会新建一个线程处理（如果是线程池的话，则是分配一个空的线程），每个线程独立，拥有各自的内存处理空间，但是，如果这个请求只是查询，没关系，但是若是修改数据，很显然，当两个线程修改同一块内存是会引发数据同步问题的。

### 服务层

服务层负责解析查询(编译SQL)，并对其进行优化(如调整表的读取顺序，选择合适的索引等)。对于SELECT语句，在解析查询前，服务器会先检查查询缓存，如果能在其中找到对应的查询结果，则无需再进行查询解析、优化等过程，直接返回查询结果。存储过程、触发器、视图等都在这一层实现。

### 引擎层

存储引擎层，存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。后面介绍MyISAM和InnoDB

### 存储层

数据存储层，主要是将数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。

### Mysql逻辑模块组成

虽然从上图看起来 MySQL 架构非常的简单，就是简单的几部分而已，但实际上每一层中都含有各自的很多小模块，尤其是第二层服务层，结构相当复杂的。下面我们就分别针对服务层和引擎层做一个简单的分析。我们看下图体系结构：

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617124155105-273948974.png)

**1.Connectors**

指的是不同语言中与SQL的交互。

**2.Management Serveices & Utilities：**

系统管理和控制工具

**3.Connection Pool**

管理缓冲用户连接，线程处理等需要缓存的需求。 

**4.SQL Interface**

接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface。

**5 Parser**

SQL命令传递到解析器的时候会被解析器验证和解析。

解析查询，创建一个内部数据结构（解析树），这个解析树主要用来SQL语句的语义与语法解析

**6 Optimizer**

优化SQL语句，例如重写查询，决定表的读取顺序，以及选择需要的索引等。这一阶段用户是可以查询的，查询服务器优化器是如何进行优化的，便于用户重构查询和修改相关配置，达到最优化。这一阶段还涉及到存储引擎，优化器会询问存储引擎，比如某个操作的开销信息、是否对特定索引有查询优化等。

**7 Cache、Buffer**

它的主要功能是将客户端提交 给MySQL 的 Select 类 query 请求的返回结果集 cache 到内存中。该 query 所取数据的基表发生任何数据的变化之后， MySQL 会自动使该 query 的Cache 失效。在读写比例非常高的应用系统中， Query Cache 对性能的提高是非常显著的。当然它对内存的消耗也是非常大的。如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。

**8 、Pluggable Storage Engines **

存储引擎是数据库管理系统用来从数据库创建、读取和更新数据的软件模块。

注意：存储引擎是基于表的，而不是数据库。

### Mysql的查询流程

mysql的查询流程大致是：

1）mysql客户端通过协议与mysql服务器建连接，发送查询语句，先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。

- 如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。

2）语法解析器和预处理：首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。

- 解析器将使用mysql语法规则验证和解析查询；
- 预处理器则根据一些mysql规则进一步检查解析树是否合法。

3）查询优化器当解析树被认为是合法的了，并且由优化器将其转化成执行计划。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的执行计划。

4）然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。

### 存储引擎介绍

如上图所示，mysql 中包含了许多不同的存储引擎。在这里我们主要介绍两个比较常用的存储引擎：MyISAM和InnoDB。

#### MylSAM

在5.5版本之前，MyISAM是MySQL的默认存储引擎，该存储引擎并发性差，不支持事务，所以使用场景比较少，主要特点为：

（1）不支持事务；
（2）不支持外键，如果强行增加外键，不会提示错误，只是外键不其作用；
（3）对数据的查询缓存只会缓存索引，不会像InnoDB一样缓存数据，而且是利用操作系统本身的缓存；
（4）默认的锁粒度为表级锁，所以并发度很差，加锁快，锁冲突较少，所以不太容易发生死锁；
（5）支持全文索引（MySQL5.6之后，InnoDB存储引擎也对全文索引做了支持），但是MySQL的全文索引基本不会使用，对于全文索引，现在有其他成熟的解决方案，比如：ElasticSearch，Solr，Sphinx等。
（6）数据库所在主机如果宕机，MyISAM的数据文件容易损坏，而且难恢复；

#### InnoDB

从MySQL5.5版本之后，MySQL的默认内置存储引擎已经是InnoDB了，他的主要特点有：

（1）灾难恢复性比较好；
（2）支持事务。默认的事务隔离级别为可重复读，通过MVCC（并发版本控制）来实现的。
（3）使用的锁粒度为行级锁，可以支持更高的并发；
（4）支持外键；
（5）配合一些热备工具可以支持在线热备份；
（6）在InnoDB中存在着缓冲管理，通过缓冲池，将索引和数据全部缓存起来，加快查询的速度；
（7）对于InnoDB类型的表，其数据的物理组织形式是聚簇表。所有的数据按照主键来组织。数据和索引放在一块，都位于B+数的叶子节点上；

（8）InnoDB表的文件存储分为独立表空间和系统表空间，默认使用的是系统表空间

### InnoDB和MyISAM的对比

| 对比项   | **MyISAM**                 | **InnoDB**                                     |
| -------- | -------------------------- | ---------------------------------------------- |
| 外键     | 不支持                     | 支持                                           |
| 事务     | 不支持                     | 支持                                           |
| 锁的粒度 | 表锁                       | 行锁                                           |
| 缓存     | 只缓存索引，不缓存真实数据 | 不仅缓存索引还要缓存真实数据，对内存要求较高。 |
| 关注点   | 节省资源、消耗少、简单业务 | 并发写、事务、更大资源                         |
| 查询性能 | 高                         | 低，因为需要维护数据册缓存                     |

, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:22:53.950 DEBUG 876 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:22:53.950 DEBUG 876 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:22:53.951 DEBUG 876 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:22:53.952 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.insertSelective   : ==>  Preparing: INSERT INTO t_blog ( id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id ) VALUES( ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? ) 
2020-02-09 13:22:53.953 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.insertSelective   : ==> Parameters: null, 一、逻辑架构与存储引擎(String), # 逻辑架构与存储引擎

### Mysql逻辑架构介绍

mysql 数据库的逻辑架构如下图

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617123859211-1860022440.png)

mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。

### 连接层

最上层是一些客户端和连接服务，包含本地socket通信和大多数基于客户端/服务端工具实现的类似于tcp/ip的通信。

主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。

当MySQL启动（MySQL服务器就是一个进程），等待客户端连接，每一个客户端连接请求，服务器都会新建一个线程处理（如果是线程池的话，则是分配一个空的线程），每个线程独立，拥有各自的内存处理空间，但是，如果这个请求只是查询，没关系，但是若是修改数据，很显然，当两个线程修改同一块内存是会引发数据同步问题的。

### 服务层

服务层负责解析查询(编译SQL)，并对其进行优化(如调整表的读取顺序，选择合适的索引等)。对于SELECT语句，在解析查询前，服务器会先检查查询缓存，如果能在其中找到对应的查询结果，则无需再进行查询解析、优化等过程，直接返回查询结果。存储过程、触发器、视图等都在这一层实现。

### 引擎层

存储引擎层，存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。后面介绍MyISAM和InnoDB

### 存储层

数据存储层，主要是将数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。

### Mysql逻辑模块组成

虽然从上图看起来 MySQL 架构非常的简单，就是简单的几部分而已，但实际上每一层中都含有各自的很多小模块，尤其是第二层服务层，结构相当复杂的。下面我们就分别针对服务层和引擎层做一个简单的分析。我们看下图体系结构：

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617124155105-273948974.png)

**1.Connectors**

指的是不同语言中与SQL的交互。

**2.Management Serveices & Utilities：**

系统管理和控制工具

**3.Connection Pool**

管理缓冲用户连接，线程处理等需要缓存的需求。 

**4.SQL Interface**

接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface。

**5 Parser**

SQL命令传递到解析器的时候会被解析器验证和解析。

解析查询，创建一个内部数据结构（解析树），这个解析树主要用来SQL语句的语义与语法解析

**6 Optimizer**

优化SQL语句，例如重写查询，决定表的读取顺序，以及选择需要的索引等。这一阶段用户是可以查询的，查询服务器优化器是如何进行优化的，便于用户重构查询和修改相关配置，达到最优化。这一阶段还涉及到存储引擎，优化器会询问存储引擎，比如某个操作的开销信息、是否对特定索引有查询优化等。

**7 Cache、Buffer**

它的主要功能是将客户端提交 给MySQL 的 Select 类 query 请求的返回结果集 cache 到内存中。该 query 所取数据的基表发生任何数据的变化之后， MySQL 会自动使该 query 的Cache 失效。在读写比例非常高的应用系统中， Query Cache 对性能的提高是非常显著的。当然它对内存的消耗也是非常大的。如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。

**8 、Pluggable Storage Engines **

存储引擎是数据库管理系统用来从数据库创建、读取和更新数据的软件模块。

注意：存储引擎是基于表的，而不是数据库。

### Mysql的查询流程

mysql的查询流程大致是：

1）mysql客户端通过协议与mysql服务器建连接，发送查询语句，先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。

- 如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。

2）语法解析器和预处理：首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。

- 解析器将使用mysql语法规则验证和解析查询；
- 预处理器则根据一些mysql规则进一步检查解析树是否合法。

3）查询优化器当解析树被认为是合法的了，并且由优化器将其转化成执行计划。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的执行计划。

4）然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。

### 存储引擎介绍

如上图所示，mysql 中包含了许多不同的存储引擎。在这里我们主要介绍两个比较常用的存储引擎：MyISAM和InnoDB。

#### MylSAM

在5.5版本之前，MyISAM是MySQL的默认存储引擎，该存储引擎并发性差，不支持事务，所以使用场景比较少，主要特点为：

（1）不支持事务；
（2）不支持外键，如果强行增加外键，不会提示错误，只是外键不其作用；
（3）对数据的查询缓存只会缓存索引，不会像InnoDB一样缓存数据，而且是利用操作系统本身的缓存；
（4）默认的锁粒度为表级锁，所以并发度很差，加锁快，锁冲突较少，所以不太容易发生死锁；
（5）支持全文索引（MySQL5.6之后，InnoDB存储引擎也对全文索引做了支持），但是MySQL的全文索引基本不会使用，对于全文索引，现在有其他成熟的解决方案，比如：ElasticSearch，Solr，Sphinx等。
（6）数据库所在主机如果宕机，MyISAM的数据文件容易损坏，而且难恢复；

#### InnoDB

从MySQL5.5版本之后，MySQL的默认内置存储引擎已经是InnoDB了，他的主要特点有：

（1）灾难恢复性比较好；
（2）支持事务。默认的事务隔离级别为可重复读，通过MVCC（并发版本控制）来实现的。
（3）使用的锁粒度为行级锁，可以支持更高的并发；
（4）支持外键；
（5）配合一些热备工具可以支持在线热备份；
（6）在InnoDB中存在着缓冲管理，通过缓冲池，将索引和数据全部缓存起来，加快查询的速度；
（7）对于InnoDB类型的表，其数据的物理组织形式是聚簇表。所有的数据按照主键来组织。数据和索引放在一块，都位于B+数的叶子节点上；

（8）InnoDB表的文件存储分为独立表空间和系统表空间，默认使用的是系统表空间

### InnoDB和MyISAM的对比

| 对比项   | **MyISAM**                 | **InnoDB**                                     |
| -------- | -------------------------- | ---------------------------------------------- |
| 外键     | 不支持                     | 支持                                           |
| 事务     | 不支持                     | 支持                                           |
| 锁的粒度 | 表锁                       | 行锁                                           |
| 缓存     | 只缓存索引，不缓存真实数据 | 不仅缓存索引还要缓存真实数据，对内存要求较高。 |
| 关注点   | 节省资源、消耗少、简单业务 | 并发写、事务、更大资源                         |
| 查询性能 | 高                         | 低，因为需要维护数据册缓存                     |

(String), https://unsplash.it/800/450?image=1005(String), (String), 0(Integer), mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:22:53.952(Timestamp), 2020-02-09 13:22:53.952(Timestamp), 1(Long), 1(Long)
2020-02-09 13:22:53.956 DEBUG 876 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.insertSelective   : <==    Updates: 1
2020-02-09 13:22:53.956 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.B.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 13:22:53.956 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.B.insertSelective!selectKey        : <==      Total: 1
2020-02-09 13:22:53.960 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:22:53.960 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 16(Long), 5(Long)
2020-02-09 13:22:53.961 DEBUG 876 --- [http-nio-8080-exec-2] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:22:53.964  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:22:53.964  INFO 876 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:22:53.969  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:22:53.970 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:22:53.970 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:22:53.971 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:22:53.971 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:22:53.971 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:22:53.972 DEBUG 876 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 13:22:53.972 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:22:53.972 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:22:53.972 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:53.973 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:22:53.973 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:22:53.973 DEBUG 876 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:53.974 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:22:53.974 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:22:53.974 DEBUG 876 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:22:53.974  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:22:53.974  INFO 876 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 13:22:57.201  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 5, {}]}
2020-02-09 13:22:57.203 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:22:57.203 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:22:57.203 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:22:57.204 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:22:57.204 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:22:57.205 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:22:57.206 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.206 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 13:22:57.206 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 13:22:57.222 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 13:22:57.222 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:22:57.222 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:22:57.223 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.223 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 13:22:57.224 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 13:22:57.225 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 13:22:57.227 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 13:22:57.227 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 13:22:57.229 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 13:22:57.229 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:22:57.229 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 13:22:57.230 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:22:57.230 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:22:57.230 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 13:22:57.230 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 13:22:57.230 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:22:57.231 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 13:22:57.231 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.231 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:22:57.231 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 13:22:57.232 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.232 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:22:57.232 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 13:22:57.232 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.233 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:22:57.233 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 13:22:57.235 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:22:57.235 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:22:57.235 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 13:22:57.236 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:22:57.236 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:22:57.236 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 13:22:57.237 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 13:22:57.238 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 13:22:57.238 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:22:57.238 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 13:22:57.238 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:22:57.239 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 13:22:57.240 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 13:22:57.240 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 13:22:57.241  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:22:57.241  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 13:23:05.101  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[16, {}]}
2020-02-09 13:23:05.102 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:23:05.102 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:23:05.103 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:23:05.104 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 13:23:05.104 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 13:23:05.105 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 13:23:05.106 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 13:23:05.106 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 13:23:05.107 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:23:05.109 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:23:05.109 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 16(Long)
2020-02-09 13:23:05.110 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 13:23:05.110  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:23:05.110  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 13:23:07.982  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=16, title=一、逻辑架构与存储引擎, content=# 逻辑架构与存储引擎

### Mysql逻辑架构介绍

mysql 数据库的逻辑架构如下图

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617123859211-1860022440.png)

mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。

### 连接层

最上层是一些客户端和连接服务，包含本地socket通信和大多数基于客户端/服务端工具实现的类似于tcp/ip的通信。

主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。

当MySQL启动（MySQL服务器就是一个进程），等待客户端连接，每一个客户端连接请求，服务器都会新建一个线程处理（如果是线程池的话，则是分配一个空的线程），每个线程独立，拥有各自的内存处理空间，但是，如果这个请求只是查询，没关系，但是若是修改数据，很显然，当两个线程修改同一块内存是会引发数据同步问题的。

### 服务层

服务层负责解析查询(编译SQL)，并对其进行优化(如调整表的读取顺序，选择合适的索引等)。对于SELECT语句，在解析查询前，服务器会先检查查询缓存，如果能在其中找到对应的查询结果，则无需再进行查询解析、优化等过程，直接返回查询结果。存储过程、触发器、视图等都在这一层实现。

### 引擎层

存储引擎层，存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。后面介绍MyISAM和InnoDB

### 存储层

数据存储层，主要是将数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。

### Mysql逻辑模块组成

虽然从上图看起来 MySQL 架构非常的简单，就是简单的几部分而已，但实际上每一层中都含有各自的很多小模块，尤其是第二层服务层，结构相当复杂的。下面我们就分别针对服务层和引擎层做一个简单的分析。我们看下图体系结构：

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617124155105-273948974.png)

**1.Connectors**

指的是不同语言中与SQL的交互。

**2.Management Serveices & Utilities：**

系统管理和控制工具

**3.Connection Pool**

管理缓冲用户连接，线程处理等需要缓存的需求。 

**4.SQL Interface**

接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface。

**5 Parser**

SQL命令传递到解析器的时候会被解析器验证和解析。

解析查询，创建一个内部数据结构（解析树），这个解析树主要用来SQL语句的语义与语法解析

**6 Optimizer**

优化SQL语句，例如重写查询，决定表的读取顺序，以及选择需要的索引等。这一阶段用户是可以查询的，查询服务器优化器是如何进行优化的，便于用户重构查询和修改相关配置，达到最优化。这一阶段还涉及到存储引擎，优化器会询问存储引擎，比如某个操作的开销信息、是否对特定索引有查询优化等。

**7 Cache、Buffer**

它的主要功能是将客户端提交 给MySQL 的 Select 类 query 请求的返回结果集 cache 到内存中。该 query 所取数据的基表发生任何数据的变化之后， MySQL 会自动使该 query 的Cache 失效。在读写比例非常高的应用系统中， Query Cache 对性能的提高是非常显著的。当然它对内存的消耗也是非常大的。如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。

**8 、Pluggable Storage Engines **

存储引擎是数据库管理系统用来从数据库创建、读取和更新数据的软件模块。

注意：存储引擎是基于表的，而不是数据库。

### Mysql的查询流程

mysql的查询流程大致是：

1）mysql客户端通过协议与mysql服务器建连接，发送查询语句，先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。

- 如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。

2）语法解析器和预处理：首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。

- 解析器将使用mysql语法规则验证和解析查询；
- 预处理器则根据一些mysql规则进一步检查解析树是否合法。

3）查询优化器当解析树被认为是合法的了，并且由优化器将其转化成执行计划。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的执行计划。

4）然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。

### 存储引擎介绍

如上图所示，mysql 中包含了许多不同的存储引擎。在这里我们主要介绍两个比较常用的存储引擎：MyISAM和InnoDB。

#### MylSAM

在5.5版本之前，MyISAM是MySQL的默认存储引擎，该存储引擎并发性差，不支持事务，所以使用场景比较少，主要特点为：

（1）不支持事务；
（2）不支持外键，如果强行增加外键，不会提示错误，只是外键不其作用；
（3）对数据的查询缓存只会缓存索引，不会像InnoDB一样缓存数据，而且是利用操作系统本身的缓存；
（4）默认的锁粒度为表级锁，所以并发度很差，加锁快，锁冲突较少，所以不太容易发生死锁；
（5）支持全文索引（MySQL5.6之后，InnoDB存储引擎也对全文索引做了支持），但是MySQL的全文索引基本不会使用，对于全文索引，现在有其他成熟的解决方案，比如：ElasticSearch，Solr，Sphinx等。
（6）数据库所在主机如果宕机，MyISAM的数据文件容易损坏，而且难恢复；

#### InnoDB

从MySQL5.5版本之后，MySQL的默认内置存储引擎已经是InnoDB了，他的主要特点有：

（1）灾难恢复性比较好；
（2）支持事务。默认的事务隔离级别为可重复读，通过MVCC（并发版本控制）来实现的。
（3）使用的锁粒度为行级锁，可以支持更高的并发；
（4）支持外键；
（5）配合一些热备工具可以支持在线热备份；
（6）在InnoDB中存在着缓冲管理，通过缓冲池，将索引和数据全部缓存起来，加快查询的速度；
（7）对于InnoDB类型的表，其数据的物理组织形式是聚簇表。所有的数据按照主键来组织。数据和索引放在一块，都位于B+数的叶子节点上；

（8）InnoDB表的文件存储分为独立表空间和系统表空间，默认使用的是系统表空间

### InnoDB和MyISAM的对比

| 对比项   | **MyISAM**                 | **InnoDB**                                     |
| -------- | -------------------------- | ---------------------------------------------- |
| 外键     | 不支持                     | 支持                                           |
| 事务     | 不支持                     | 支持                                           |
| 锁的粒度 | 表锁                       | 行锁                                           |
| 缓存     | 只缓存索引，不缓存真实数据 | 不仅缓存索引还要缓存真实数据，对内存要求较高。 |
| 关注点   | 节省资源、消耗少、简单业务 | 并发写、事务、更大资源                         |
| 查询性能 | 高                         | 低，因为需要维护数据册缓存                     |

, firstPicture=https://unsplash.it/800/450?image=1005, flag=, views=null, description=mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=5, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@5c6e6447, {}]}
2020-02-09 13:23:07.989 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 13:23:07.989 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 16(Long)
2020-02-09 13:23:07.989 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 13:23:08.002 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 13:23:08.002 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 13:23:08.003 DEBUG 876 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 13:23:08.003 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 13:23:08.004 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 一、逻辑架构与存储引擎(String), # 逻辑架构与存储引擎

### Mysql逻辑架构介绍

mysql 数据库的逻辑架构如下图

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617123859211-1860022440.png)

mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。

### 连接层

最上层是一些客户端和连接服务，包含本地socket通信和大多数基于客户端/服务端工具实现的类似于tcp/ip的通信。

主要完成一些类似于连接处理、授权认证、及相关的安全方案。在该层上引入了线程池的概念，为通过认证安全接入的客户端提供线程。同样在该层上可以实现基于SSL的安全链接。服务器也会为安全接入的每个客户端验证它所具有的操作权限。

当MySQL启动（MySQL服务器就是一个进程），等待客户端连接，每一个客户端连接请求，服务器都会新建一个线程处理（如果是线程池的话，则是分配一个空的线程），每个线程独立，拥有各自的内存处理空间，但是，如果这个请求只是查询，没关系，但是若是修改数据，很显然，当两个线程修改同一块内存是会引发数据同步问题的。

### 服务层

服务层负责解析查询(编译SQL)，并对其进行优化(如调整表的读取顺序，选择合适的索引等)。对于SELECT语句，在解析查询前，服务器会先检查查询缓存，如果能在其中找到对应的查询结果，则无需再进行查询解析、优化等过程，直接返回查询结果。存储过程、触发器、视图等都在这一层实现。

### 引擎层

存储引擎层，存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API与存储引擎进行通信。不同的存储引擎具有的功能不同，这样我们可以根据自己的实际需要进行选取。后面介绍MyISAM和InnoDB

### 存储层

数据存储层，主要是将数据存储在运行于裸设备的文件系统之上，并完成与存储引擎的交互。

### Mysql逻辑模块组成

虽然从上图看起来 MySQL 架构非常的简单，就是简单的几部分而已，但实际上每一层中都含有各自的很多小模块，尤其是第二层服务层，结构相当复杂的。下面我们就分别针对服务层和引擎层做一个简单的分析。我们看下图体系结构：

![png](https://images2018.cnblogs.com/blog/1411859/201806/1411859-20180617124155105-273948974.png)

**1.Connectors**

指的是不同语言中与SQL的交互。

**2.Management Serveices & Utilities：**

系统管理和控制工具

**3.Connection Pool**

管理缓冲用户连接，线程处理等需要缓存的需求。 

**4.SQL Interface**

接受用户的SQL命令，并且返回用户需要查询的结果。比如select from就是调用SQL Interface。

**5 Parser**

SQL命令传递到解析器的时候会被解析器验证和解析。

解析查询，创建一个内部数据结构（解析树），这个解析树主要用来SQL语句的语义与语法解析

**6 Optimizer**

优化SQL语句，例如重写查询，决定表的读取顺序，以及选择需要的索引等。这一阶段用户是可以查询的，查询服务器优化器是如何进行优化的，便于用户重构查询和修改相关配置，达到最优化。这一阶段还涉及到存储引擎，优化器会询问存储引擎，比如某个操作的开销信息、是否对特定索引有查询优化等。

**7 Cache、Buffer**

它的主要功能是将客户端提交 给MySQL 的 Select 类 query 请求的返回结果集 cache 到内存中。该 query 所取数据的基表发生任何数据的变化之后， MySQL 会自动使该 query 的Cache 失效。在读写比例非常高的应用系统中， Query Cache 对性能的提高是非常显著的。当然它对内存的消耗也是非常大的。如果查询缓存有命中的查询结果，查询语句就可以直接去查询缓存中取数据。

**8 、Pluggable Storage Engines **

存储引擎是数据库管理系统用来从数据库创建、读取和更新数据的软件模块。

注意：存储引擎是基于表的，而不是数据库。

### Mysql的查询流程

mysql的查询流程大致是：

1）mysql客户端通过协议与mysql服务器建连接，发送查询语句，先检查查询缓存，如果命中，直接返回结果，否则进行语句解析,也就是说，在解析查询之前，服务器会先访问查询缓存(query cache)——它存储SELECT语句以及相应的查询结果集。

- 如果某个查询结果已经位于缓存中，服务器就不会再对查询进行解析、优化、以及执行。它仅仅将缓存中的结果返回给用户即可，这将大大提高系统的性能。

2）语法解析器和预处理：首先mysql通过关键字将SQL语句进行解析，并生成一颗对应的“解析树”。

- 解析器将使用mysql语法规则验证和解析查询；
- 预处理器则根据一些mysql规则进一步检查解析树是否合法。

3）查询优化器当解析树被认为是合法的了，并且由优化器将其转化成执行计划。一条查询可以有很多种执行方式，最后都返回相同的结果。优化器的作用就是找到这其中最好的执行计划。

4）然后，mysql默认使用的BTREE索引，并且一个大致方向是:无论怎么折腾sql，至少在目前来说，mysql最多只用到表中的一个索引。

### 存储引擎介绍

如上图所示，mysql 中包含了许多不同的存储引擎。在这里我们主要介绍两个比较常用的存储引擎：MyISAM和InnoDB。

#### MylSAM

在5.5版本之前，MyISAM是MySQL的默认存储引擎，该存储引擎并发性差，不支持事务，所以使用场景比较少，主要特点为：

（1）不支持事务；
（2）不支持外键，如果强行增加外键，不会提示错误，只是外键不其作用；
（3）对数据的查询缓存只会缓存索引，不会像InnoDB一样缓存数据，而且是利用操作系统本身的缓存；
（4）默认的锁粒度为表级锁，所以并发度很差，加锁快，锁冲突较少，所以不太容易发生死锁；
（5）支持全文索引（MySQL5.6之后，InnoDB存储引擎也对全文索引做了支持），但是MySQL的全文索引基本不会使用，对于全文索引，现在有其他成熟的解决方案，比如：ElasticSearch，Solr，Sphinx等。
（6）数据库所在主机如果宕机，MyISAM的数据文件容易损坏，而且难恢复；

#### InnoDB

从MySQL5.5版本之后，MySQL的默认内置存储引擎已经是InnoDB了，他的主要特点有：

（1）灾难恢复性比较好；
（2）支持事务。默认的事务隔离级别为可重复读，通过MVCC（并发版本控制）来实现的。
（3）使用的锁粒度为行级锁，可以支持更高的并发；
（4）支持外键；
（5）配合一些热备工具可以支持在线热备份；
（6）在InnoDB中存在着缓冲管理，通过缓冲池，将索引和数据全部缓存起来，加快查询的速度；
（7）对于InnoDB类型的表，其数据的物理组织形式是聚簇表。所有的数据按照主键来组织。数据和索引放在一块，都位于B+数的叶子节点上；

（8）InnoDB表的文件存储分为独立表空间和系统表空间，默认使用的是系统表空间

### InnoDB和MyISAM的对比

| 对比项   | **MyISAM**                 | **InnoDB**                                     |
| -------- | -------------------------- | ---------------------------------------------- |
| 外键     | 不支持                     | 支持                                           |
| 事务     | 不支持                     | 支持                                           |
| 锁的粒度 | 表锁                       | 行锁                                           |
| 缓存     | 只缓存索引，不缓存真实数据 | 不仅缓存索引还要缓存真实数据，对内存要求较高。 |
| 关注点   | 节省资源、消耗少、简单业务 | 并发写、事务、更大资源                         |
| 查询性能 | 高                         | 低，因为需要维护数据册缓存                     |

(String), https://unsplash.it/800/450?image=1005(String), (String), mysql 的逻辑的逻辑架构大体分为四层：连接层、服务层、引擎层、存储层。下面我们就来一一介绍这四层。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 13:23:08.003(Timestamp), 1(Long), 1(Long), 16(Long)
2020-02-09 13:23:08.008 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 13:23:08.012 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 13:23:08.012 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 16(Long), 5(Long)
2020-02-09 13:23:08.012 DEBUG 876 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 13:23:08.015  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:23:08.015  INFO 876 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 13:23:08.019  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 13:23:08.020 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 13:23:08.020 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 13:23:08.020 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 13:23:08.021 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 13:23:08.021 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 13:23:08.022 DEBUG 876 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 13:23:08.022 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 13:23:08.022 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:23:08.023 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:23:08.023 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 13:23:08.023 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 13:23:08.023 DEBUG 876 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 13:23:08.024 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 13:23:08.024 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 13:23:08.025 DEBUG 876 --- [http-nio-8080-exec-5] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 13:23:08.026  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 13:23:08.026  INFO 876 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 14:07:57.366  INFO 876 --- [Thread-14] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 14:07:57.367  INFO 876 --- [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 14:07:57.372  INFO 876 --- [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 14:07:58.884  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 876 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:07:58.885 DEBUG 876 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:07:58.885  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.328  WARN 876 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:07:59.399  WARN 876 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:07:59.645  INFO 876 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 14:07:59.646  INFO 876 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 14:07:59.646  INFO 876 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 14:07:59.647  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 14:07:59.647  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 14:07:59.647  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 14:07:59.647  INFO 876 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 14:07:59.684  INFO 876 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 14:07:59.684  INFO 876 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 793 ms
2020-02-09 14:08:00.510  INFO 876 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:08:00.610  INFO 876 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:08:00.778  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:08:00.778  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:08:00.778  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:08:00.778  INFO 876 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:08:01.117  INFO 876 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 14:08:01.143  INFO 876 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 14:08:01.144  INFO 876 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.359 seconds (JVM running for 4110.755)
2020-02-09 14:08:01.146  INFO 876 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 14:08:01.200  INFO 876 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 14:08:01.201  INFO 876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 14:08:01.213  INFO 876 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-02-09 14:08:01.218  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 2, {}]}
2020-02-09 14:08:01.221  INFO 876 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-02-09 14:08:01.227  INFO 876 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-02-09 14:08:01.239 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:08:01.239 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:08:01.240 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:08:01.241 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:08:01.241 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 2(Integer)
2020-02-09 14:08:01.243 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 14:08:01.244 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:08:01.244 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:08:01.245 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.245 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:08:01.245 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:08:01.246 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.250 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:08:01.251 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:08:01.265 DEBUG 876 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:08:01.265 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:08:01.266 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:08:01.266 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.267 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:08:01.267 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:08:01.269 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:08:01.273 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:08:01.273 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:08:01.274 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:08:01.274 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:08:01.275 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:08:01.275 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:08:01.276 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:08:01.276 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:08:01.276 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:08:01.277 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:08:01.277 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:08:01.278 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.279 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:08:01.279 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:08:01.280 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.280 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:08:01.280 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:08:01.281 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.281 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:08:01.281 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:08:01.282 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:08:01.282 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:08:01.282 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:08:01.283 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:08:01.283 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:08:01.284 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:08:01.285 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.285 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:08:01.285 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:08:01.286 DEBUG 876 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:08:01.286 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:08:01.286 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:08:01.287 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:08:01.287 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:08:01.287 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:08:01.288 DEBUG 876 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:08:01.289 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:08:01.289 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:08:01.294 DEBUG 876 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:08:01.295  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:08:01.295  INFO 876 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:11:01.753  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 652 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:11:01.754 DEBUG 652 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:11:01.754  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 14:11:01.814  INFO 652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 14:11:01.814  INFO 652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 14:11:02.202  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.203  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:11:02.300  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:11:02.771  INFO 652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 14:11:02.777  INFO 652 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 14:11:02.778  INFO 652 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 14:11:02.779  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 14:11:02.780  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 14:11:02.780  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 14:11:02.783  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 14:11:02.838  INFO 652 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 14:11:02.838  INFO 652 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1024 ms
2020-02-09 14:11:03.548  INFO 652 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:11:03.622  INFO 652 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:11:03.720  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:11:03.720  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:11:03.721  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:11:03.721  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:11:03.936  INFO 652 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 14:11:03.987  INFO 652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 14:11:03.990  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.576 seconds (JVM running for 3.548)
2020-02-09 14:11:12.281  INFO 652 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 14:11:12.281  INFO 652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 14:11:12.287  INFO 652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2020-02-09 14:11:12.314  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 2, {}]}
2020-02-09 14:11:12.321  INFO 652 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 14:11:12.404  INFO 652 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 14:11:12.463 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:11:12.479 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:11:12.493 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:11:12.495 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:11:12.496 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 2(Integer)
2020-02-09 14:11:12.498 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 14:11:12.500 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:12.500 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:12.500 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.500 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:11:12.500 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:12.501 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.508 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:11:12.508 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:11:12.515 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:11:12.515 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:12.515 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:12.516 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.518 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:11:12.519 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:11:12.523 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:12.527 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:11:12.528 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:11:12.529 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:11:12.529 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:12.529 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:11:12.530 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:12.531 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:12.531 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:11:12.531 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:11:12.532 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:12.532 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:11:12.533 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.533 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:12.533 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:11:12.534 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.535 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:12.535 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:11:12.536 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.536 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:12.536 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:11:12.537 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:12.537 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:12.537 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:11:12.538 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:12.538 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:12.538 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:11:12.540 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.542 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:12.542 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:11:12.543 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:12.543 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:12.543 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:11:12.544 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:12.544 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:12.544 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:11:12.545 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:12.547 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:11:12.547 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:11:12.551 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:12.552  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:11:12.552  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:11:15.302  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[2, 2, {}]}
2020-02-09 14:11:15.305 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:11:15.305 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:11:15.306 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:11:15.307 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ?, ? 
2020-02-09 14:11:15.307 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 2(Integer), 2(Integer)
2020-02-09 14:11:15.309 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 14:11:15.309 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:15.309 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:15.310 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.310 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:11:15.310 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:15.311 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.312 DEBUG 652 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:11:15.312 DEBUG 652 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:11:15.319 DEBUG 652 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:11:15.319 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:15.319 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:15.320 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.322 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:11:15.322 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:11:15.326 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:15.328 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:11:15.328 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:11:15.329 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:11:15.329 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:15.329 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:11:15.330 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:15.330 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:15.330 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:11:15.331 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:11:15.331 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:15.331 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:11:15.332 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.332 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:15.332 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:11:15.333 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.333 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:15.333 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:11:15.334 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.334 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:15.334 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:11:15.335 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:15.335 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:15.335 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:11:15.336 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:15.336 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:15.336 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:11:15.337 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:15.338 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:15.338 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:11:15.339 DEBUG 652 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:15.342 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:11:15.342 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:11:15.345 DEBUG 652 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:15.346  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:11:15.346  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:11:19.419  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[3, 2, {}]}
2020-02-09 14:11:19.421 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:11:19.421 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:11:19.422 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:11:19.423 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ?, ? 
2020-02-09 14:11:19.423 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer), 2(Integer)
2020-02-09 14:11:19.427 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 14:11:19.428 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:19.428 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:19.429 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.429 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:11:19.429 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:19.430 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.431 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:11:19.431 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:11:19.437 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:11:19.438 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:11:19.438 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:11:19.438 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.439 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:11:19.439 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:11:19.441 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:19.443 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:11:19.444 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:11:19.447 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:11:19.447 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:19.447 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:11:19.448 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:19.448 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:19.448 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:11:19.449 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:11:19.449 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:19.449 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:11:19.450 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.450 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:19.451 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:11:19.451 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.451 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:19.451 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:11:19.452 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.452 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:19.452 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:11:19.453 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:19.453 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:19.453 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:11:19.453 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:19.453 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:19.454 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:11:19.454 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.454 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:11:19.454 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:11:19.455 DEBUG 652 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:11:19.455 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:11:19.455 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:11:19.455 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:11:19.455 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:11:19.456 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:11:19.456 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:11:19.457 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:11:19.458 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:11:19.459 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:11:19.459  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:11:19.459  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:12:08.279  INFO 652 --- [Thread-11] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 14:12:08.280  INFO 652 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 14:12:08.293  INFO 652 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 14:12:09.469  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 652 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:12:09.470 DEBUG 652 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:12:09.470  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.763  WARN 652 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:12:09.850  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:12:09.851  WARN 652 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:12:10.070  INFO 652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 14:12:10.071  INFO 652 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 14:12:10.072  INFO 652 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 14:12:10.072  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 14:12:10.072  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 14:12:10.073  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 14:12:10.074  INFO 652 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 14:12:10.114  INFO 652 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 14:12:10.115  INFO 652 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 641 ms
2020-02-09 14:12:11.215  INFO 652 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:12:11.357  INFO 652 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:12:11.564  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:12:11.564  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:12:11.564  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:12:11.564  INFO 652 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:12:11.912  INFO 652 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 14:12:11.933  INFO 652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 14:12:11.934  INFO 652 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.524 seconds (JVM running for 71.491)
2020-02-09 14:12:11.936  INFO 652 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 14:12:12.130  INFO 652 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 14:12:12.131  INFO 652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 14:12:12.141  INFO 652 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2020-02-09 14:12:12.146  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='127.0.0.1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:12:12.150  INFO 652 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-02-09 14:12:12.155  INFO 652 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-02-09 14:12:12.166 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:12:12.166 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:12:12.167 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:12:12.168 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:12:12.168 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:12:12.170 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:12:12.171 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:12:12.171 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:12.172 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.173 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:12:12.173 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:12.174 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.181 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:12:12.181 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:12:12.188 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:12:12.189 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:12:12.189 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:12.190 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.191 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:12:12.191 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:12:12.193 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:12:12.197 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:12:12.198 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:12:12.199 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:12:12.199 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:12.200 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:12:12.200 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:12.201 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:12.201 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:12:12.202 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:12:12.202 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:12.202 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:12:12.203 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.204 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:12.204 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:12:12.205 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.205 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:12.205 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:12:12.206 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.206 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:12.206 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:12:12.207 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:12.207 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:12.207 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:12:12.208 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:12:12.208 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:12.208 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:12:12.209 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.210 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:12.210 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:12:12.211 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:12.211 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:12.211 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:12:12.211 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:12:12.212 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:12.212 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:12:12.213 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:12.215 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:12:12.216 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:12:12.221 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:12:12.223  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:12:12.223  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:12:29.554  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:12:29.556 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:12:29.556 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:12:29.556 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:12:29.557 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:12:29.557 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:12:29.558 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:12:29.558 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:12:29.558 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:29.558 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.559 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:12:29.559 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:29.559 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.560 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:12:29.561 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:12:29.566 DEBUG 652 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:12:29.566 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:12:29.567 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:12:29.567 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.568 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:12:29.569 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:12:29.570 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:12:29.571 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:12:29.572 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:12:29.572 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:12:29.573 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:29.573 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:12:29.573 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:29.573 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:29.573 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:12:29.574 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:12:29.574 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:29.574 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:12:29.575 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.575 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:29.576 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:12:29.577 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.577 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:29.577 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:12:29.578 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.578 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:29.578 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:12:29.579 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:29.579 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:29.579 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:12:29.580 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:12:29.581 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:29.581 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:12:29.582 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.582 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:12:29.582 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:12:29.583 DEBUG 652 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:12:29.583 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:12:29.583 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:12:29.584 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:12:29.584 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:12:29.584 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:12:29.585 DEBUG 652 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:12:29.586 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:12:29.586 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:12:29.587 DEBUG 652 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:12:29.587  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:12:29.588  INFO 652 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:22:58.706  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 14:22:58.708  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:22:58.708  INFO 652 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 14:23:02.531  INFO 652 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@c581d40, {}]}
2020-02-09 14:23:02.535 DEBUG 652 --- [http-nio-8080-exec-7] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 14:23:02.536 DEBUG 652 --- [http-nio-8080-exec-7] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 14:23:02.537 DEBUG 652 --- [http-nio-8080-exec-7] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 14:23:02.538  INFO 652 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:23:02.538  INFO 652 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 14:23:03.909  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 14:23:03.913 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:23:03.913 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:23:03.914 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:23:03.915 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:23:03.915 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 14:23:03.916 DEBUG 652 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:23:03.916 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:23:03.916 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:23:03.917 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:23:03.917 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:23:03.917 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:23:03.917 DEBUG 652 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:23:03.918 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 14:23:03.919 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 14:23:03.919 DEBUG 652 --- [http-nio-8080-exec-6] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 14:23:03.920  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:23:03.920  INFO 652 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 14:35:11.416  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 9288 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:35:11.422 DEBUG 9288 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:35:11.423  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 14:35:11.583  INFO 9288 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 14:35:11.584  INFO 9288 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 14:35:12.687  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.688  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.688  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.688  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.689  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.689  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.689  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:35:12.921  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.921  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.921  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.921  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.922  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.922  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:35:12.922  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:35:14.080  INFO 9288 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 14:35:14.094  INFO 9288 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 14:35:14.095  INFO 9288 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 14:35:14.098  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 14:35:14.099  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 14:35:14.099  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 14:35:14.105  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 14:35:14.234  INFO 9288 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 14:35:14.234  INFO 9288 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2649 ms
2020-02-09 14:35:16.045  INFO 9288 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:35:16.210  INFO 9288 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:35:16.390  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:35:16.392  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:35:16.393  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:35:16.394  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:35:16.805  INFO 9288 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 14:35:16.884  INFO 9288 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 14:35:16.890  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 7.034 seconds (JVM running for 10.663)
2020-02-09 14:35:52.891  INFO 9288 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 14:35:52.891  INFO 9288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 14:35:52.903  INFO 9288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2020-02-09 14:35:52.930  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:35:52.939  INFO 9288 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 14:35:53.044  INFO 9288 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 14:35:53.125 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:35:53.144 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:35:53.167 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:35:53.170 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:35:53.171 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:35:53.177 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:35:53.178 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:35:53.178 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:35:53.180 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.181 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:35:53.181 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:35:53.183 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.189 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:35:53.189 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:35:53.204 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:35:53.205 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:35:53.205 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:35:53.206 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.209 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:35:53.210 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:35:53.214 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:35:53.219 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:35:53.219 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:35:53.220 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:35:53.221 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:35:53.221 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:35:53.222 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:35:53.222 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:35:53.223 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:35:53.223 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:35:53.224 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:35:53.224 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:35:53.225 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.226 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:35:53.226 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:35:53.227 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.228 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:35:53.228 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:35:53.229 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.230 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:35:53.230 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:35:53.231 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:35:53.232 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:35:53.232 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:35:53.233 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:35:53.233 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:35:53.234 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:35:53.236 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.237 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:35:53.237 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:35:53.238 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:35:53.239 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:35:53.239 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:35:53.239 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:35:53.240 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:35:53.240 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:35:53.241 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:35:53.244 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:35:53.244 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:35:53.250 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:35:53.251  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:35:53.251  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:35:53.618 ERROR 9288 --- [http-nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template "index": An error happened during template parsing (template: "class path resource [templates/index.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 77 common frames omitted

2020-02-09 14:35:53.626 ERROR 9288 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/index.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 14:35:53.648 ERROR 9288 --- [http-nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/] and exception [An error happened during template parsing (template: "class path resource [templates/index.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 14:36:02.880  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/search', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.search', args=[1, 5, spring, {}]}
2020-02-09 14:36:02.886 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog WHERE (title LIKE ? OR content LIKE ?) 
2020-02-09 14:36:02.886 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: %spring%(String), %spring%(String)
2020-02-09 14:36:02.888 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:36:02.890 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( title like ? or content like ? ) LIMIT ? 
2020-02-09 14:36:02.891 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: %spring%(String), %spring%(String), 5(Integer)
2020-02-09 14:36:02.893 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 14:36:02.893 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:36:02.894 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:36:02.895 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:36:02.895 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:36:02.896 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:36:02.897 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:36:02.897  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:36:02.897  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : search
2020-02-09 14:36:02.911 ERROR 9288 --- [http-nio-8080-exec-9] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-9] Exception processing template "search": An error happened during template parsing (template: "class path resource [templates/search.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/search.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 77 common frames omitted

2020-02-09 14:36:02.917 ERROR 9288 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/search.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 14:36:02.928 ERROR 9288 --- [http-nio-8080-exec-9] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-9] Exception processing template "error/500": An error happened during template parsing (template: "class path resource [templates/error/500.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/error/500.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 37 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 39 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 66 common frames omitted

2020-02-09 14:36:02.932 ERROR 9288 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception

org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 14:36:02.933 ERROR 9288 --- [http-nio-8080-exec-9] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing ErrorPage[errorCode=0, location=/error]

org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/error/500.html]")
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:348)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:173)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/error/500.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	... 26 common frames omitted
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 37 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.id" (template: "_fragments" - line 59, col 25)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.LinkExpression.resolveParameters(LinkExpression.java:337)
	at org.thymeleaf.standard.expression.LinkExpression.executeLinkExpression(LinkExpression.java:283)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:85)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)
	at org.thymeleaf.engine.Model.process(Model.java:282)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1587)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 39 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'id' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 66 common frames omitted

2020-02-09 14:37:25.291  INFO 9288 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/search', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.search', args=[1, 5, spring, {}]}
2020-02-09 14:37:25.294 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog WHERE (title LIKE ? OR content LIKE ?) 
2020-02-09 14:37:25.295 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: %spring%(String), %spring%(String)
2020-02-09 14:37:25.296 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:37:25.297 DEBUG 9288 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( title like ? or content like ? ) LIMIT ? 
2020-02-09 14:37:25.297 DEBUG 9288 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: %spring%(String), %spring%(String), 5(Integer)
2020-02-09 14:37:25.298 DEBUG 9288 --- [http-nio-8080-exec-4] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 2
2020-02-09 14:37:25.299 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:37:25.299 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:25.300 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:25.300 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:37:25.300 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:25.301 DEBUG 9288 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:25.301  INFO 9288 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:37:25.302  INFO 9288 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : search
2020-02-09 14:37:34.688  INFO 9288 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:37:34.690 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:37:34.691 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:37:34.691 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:37:34.693 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:37:34.694 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:37:34.695 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:37:34.695 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:37:34.696 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:34.696 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.696 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:37:34.696 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:34.697 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.698 DEBUG 9288 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:37:34.698 DEBUG 9288 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:37:34.704 DEBUG 9288 --- [http-nio-8080-exec-6] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:37:34.705 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:37:34.705 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:34.705 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.706 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:37:34.706 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:37:34.707 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:37:34.708 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:37:34.709 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:37:34.710 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:37:34.711 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:37:34.711 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:37:34.711 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:37:34.712 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:37:34.712 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:37:34.713 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:37:34.713 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:37:34.713 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:37:34.714 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.714 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:37:34.714 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:37:34.718 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.719 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:37:34.719 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:37:34.719 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.720 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:37:34.720 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:37:34.720 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:37:34.721 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:37:34.721 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:37:34.721 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:37:34.721 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:37:34.722 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:37:34.722 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.723 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:37:34.723 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:37:34.723 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:37:34.724 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:37:34.724 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:37:34.725 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:37:34.725 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:37:34.725 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:37:34.726 DEBUG 9288 --- [http-nio-8080-exec-6] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:34.728 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:37:34.729 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:37:34.730 DEBUG 9288 --- [http-nio-8080-exec-6] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:37:34.731  INFO 9288 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:37:34.731  INFO 9288 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:37:54.907  INFO 9288 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/search', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.search', args=[1, 5, Spring, {}]}
2020-02-09 14:37:54.912 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog WHERE (title LIKE ? OR content LIKE ?) 
2020-02-09 14:37:54.913 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: %Spring%(String), %Spring%(String)
2020-02-09 14:37:54.914 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:37:54.916 DEBUG 9288 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( title like ? or content like ? ) LIMIT ? 
2020-02-09 14:37:54.916 DEBUG 9288 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: %Spring%(String), %Spring%(String), 5(Integer)
2020-02-09 14:37:54.918 DEBUG 9288 --- [http-nio-8080-exec-5] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 14:37:54.918 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:37:54.919 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:54.919 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:54.919 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:37:54.920 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:37:54.920 DEBUG 9288 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:37:54.921  INFO 9288 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:37:54.921  INFO 9288 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : search
2020-02-09 14:38:13.398  INFO 9288 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/search', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.search', args=[1, 5, Spring, {}]}
2020-02-09 14:38:13.401 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog WHERE (title LIKE ? OR content LIKE ?) 
2020-02-09 14:38:13.401 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: %Spring%(String), %Spring%(String)
2020-02-09 14:38:13.402 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:38:13.404 DEBUG 9288 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( title like ? or content like ? ) LIMIT ? 
2020-02-09 14:38:13.406 DEBUG 9288 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: %Spring%(String), %Spring%(String), 5(Integer)
2020-02-09 14:38:13.408 DEBUG 9288 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 14:38:13.409 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:38:13.409 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:38:13.410 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:13.411 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:38:13.411 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:38:13.412 DEBUG 9288 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:13.413  INFO 9288 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:38:13.413  INFO 9288 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : search
2020-02-09 14:38:42.007  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:38:42.009 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:38:42.009 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:38:42.010 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:38:42.011 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:38:42.011 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:38:42.013 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:38:42.013 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:38:42.013 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:38:42.014 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.015 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:38:42.016 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:38:42.017 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.019 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:38:42.019 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:38:42.025 DEBUG 9288 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:38:42.025 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:38:42.025 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:38:42.026 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.027 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:38:42.027 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:38:42.028 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:38:42.029 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:38:42.029 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:38:42.030 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:38:42.030 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:38:42.030 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:38:42.031 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:38:42.031 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:38:42.031 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:38:42.031 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:38:42.032 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:38:42.032 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:38:42.033 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.033 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:38:42.033 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:38:42.034 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.034 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:38:42.034 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:38:42.034 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.035 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:38:42.035 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:38:42.035 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:38:42.036 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:38:42.036 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:38:42.037 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:38:42.037 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:38:42.037 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:38:42.038 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.039 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:38:42.039 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:38:42.039 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:38:42.040 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:38:42.040 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:38:42.040 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:38:42.040 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:38:42.040 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:38:42.041 DEBUG 9288 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:38:42.042 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:38:42.042 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:38:42.044 DEBUG 9288 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:38:42.044  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:38:42.045  INFO 9288 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:40:06.282  INFO 9288 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/search', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.search', args=[1, 5, Spring, {}]}
2020-02-09 14:40:06.289 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog WHERE (title LIKE ? OR content LIKE ?) 
2020-02-09 14:40:06.290 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: %Spring%(String), %Spring%(String)
2020-02-09 14:40:06.291 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:40:06.292 DEBUG 9288 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( title like ? or content like ? ) LIMIT ? 
2020-02-09 14:40:06.292 DEBUG 9288 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: %Spring%(String), %Spring%(String), 5(Integer)
2020-02-09 14:40:06.293 DEBUG 9288 --- [http-nio-8080-exec-10] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 3
2020-02-09 14:40:06.293 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:40:06.293 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:40:06.294 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:06.294 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:40:06.294 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:40:06.295 DEBUG 9288 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:06.296  INFO 9288 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:40:06.296  INFO 9288 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : search
2020-02-09 14:40:14.374  INFO 9288 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 14:40:14.375 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 14:40:14.375 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 14:40:14.376 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 14:40:14.377 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 14:40:14.377 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 14:40:14.379 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 14:40:14.380 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:40:14.380 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:40:14.381 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.381 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 14:40:14.382 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:40:14.383 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.384 DEBUG 9288 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 14:40:14.384 DEBUG 9288 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 14:40:14.390 DEBUG 9288 --- [http-nio-8080-exec-8] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 14:40:14.391 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 14:40:14.391 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 14:40:14.391 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.392 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 14:40:14.393 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 14:40:14.394 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:40:14.395 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 14:40:14.395 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 14:40:14.396 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 14:40:14.396 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:40:14.396 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 14:40:14.396 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:40:14.397 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:40:14.397 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 14:40:14.397 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 14:40:14.397 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:40:14.397 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 14:40:14.398 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.398 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:40:14.398 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 14:40:14.399 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.399 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:40:14.399 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 14:40:14.401 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.402 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:40:14.402 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 14:40:14.403 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:40:14.403 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:40:14.403 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 14:40:14.404 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:40:14.404 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:40:14.404 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 14:40:14.405 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.406 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 14:40:14.406 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 14:40:14.406 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 14:40:14.407 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 14:40:14.407 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 14:40:14.407 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 14:40:14.407 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 14:40:14.407 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 14:40:14.408 DEBUG 9288 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 14:40:14.409 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 14:40:14.409 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 14:40:14.410 DEBUG 9288 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 14:40:14.411  INFO 9288 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 14:40:14.411  INFO 9288 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 14:59:19.678  INFO 9288 --- [Thread-15] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 14:59:19.679  INFO 9288 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 14:59:19.692  INFO 9288 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 14:59:21.092  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 9288 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:59:21.093 DEBUG 9288 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:59:21.093  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 14:59:21.462  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.463  WARN 9288 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:59:21.549  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:21.550  WARN 9288 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:59:21.774  INFO 9288 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 14:59:21.774  INFO 9288 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 14:59:21.775  INFO 9288 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 14:59:21.776  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 14:59:21.776  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 14:59:21.776  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 14:59:21.776  INFO 9288 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 14:59:21.816  INFO 9288 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 14:59:21.816  INFO 9288 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 718 ms
2020-02-09 14:59:22.721  INFO 9288 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:59:22.806  INFO 9288 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:59:22.931  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:59:22.931  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:59:22.931  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:59:22.931  INFO 9288 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:59:23.342  INFO 9288 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 14:59:23.385  INFO 9288 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 14:59:23.389  INFO 9288 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.38 seconds (JVM running for 1457.162)
2020-02-09 14:59:23.391  INFO 9288 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 14:59:26.698  INFO 4240 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 4240 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 14:59:26.700 DEBUG 4240 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 14:59:26.700  INFO 4240 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 14:59:27.826  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.827  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.827  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.828  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.828  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.829  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:27.829  WARN 4240 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:59:28.102  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.103  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.103  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.103  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.103  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.104  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 14:59:28.104  WARN 4240 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 14:59:31.710  INFO 4240 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 14:59:32.001  INFO 4240 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 14:59:32.465  INFO 4240 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 14:59:32.466  INFO 4240 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 14:59:32.468  INFO 4240 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 14:59:32.469  INFO 4240 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 14:59:32.958  INFO 4240 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 7.112 seconds (JVM running for 9.737)
2020-02-09 14:59:33.408  INFO 4240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 14:59:33.739  INFO 4240 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 14:59:33.810 DEBUG 4240 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 14:59:33.864 DEBUG 4240 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 14:59:33.913 DEBUG 4240 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 14:59:33.962  INFO 4240 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 14:59:33.965  INFO 4240 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 14:59:33.989  INFO 4240 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 15:07:47.708  INFO 13576 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 13576 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 15:07:47.711 DEBUG 13576 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 15:07:47.711  INFO 13576 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 15:07:49.093  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.093  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.094  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.094  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.094  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.094  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.095  WARN 13576 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:07:49.446  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.447  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.447  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.448  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.448  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.449  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:07:49.451  WARN 13576 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:07:54.883  INFO 9288 --- [http-nio-8080-exec-9] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 15:07:54.885  INFO 9288 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 15:07:54.904  INFO 9288 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed initialization in 19 ms
2020-02-09 15:07:54.911  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 15:07:54.919  INFO 9288 --- [http-nio-8080-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-02-09 15:07:54.928  INFO 9288 --- [http-nio-8080-exec-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-02-09 15:07:54.946 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:07:54.946 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:07:54.948 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:07:54.950 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:07:54.951 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 15:07:54.955 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 15:07:54.957 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:07:54.957 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:07:54.959 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:54.960 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:07:54.960 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:07:54.962 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:54.973 DEBUG 9288 --- [http-nio-8080-exec-9] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:07:54.973 DEBUG 9288 --- [http-nio-8080-exec-9] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:07:54.986 DEBUG 9288 --- [http-nio-8080-exec-9] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:07:54.987 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:07:54.988 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:07:54.988 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:54.991 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:07:54.992 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:07:54.995 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:07:55.003 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:07:55.003 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:07:55.005 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:07:55.006 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:07:55.006 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:07:55.007 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:07:55.008 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:07:55.008 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:07:55.009 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:07:55.010 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:55.010 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:07:55.011 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:55.012 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:55.013 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:07:55.014 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:55.014 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:55.015 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:07:55.016 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:55.017 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:07:55.017 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:07:55.018 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:07:55.019 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:07:55.019 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:07:55.020 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:07:55.021 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:55.021 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:07:55.022 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:55.023 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:07:55.024 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:07:55.025 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:07:55.025 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:07:55.026 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:07:55.027 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:07:55.027 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:55.028 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:07:55.029 DEBUG 9288 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:55.033 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:07:55.034 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:07:55.046 DEBUG 9288 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:07:55.048  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:07:55.048  INFO 9288 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:07:55.429  INFO 13576 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 15:07:55.902  INFO 13576 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 15:07:56.730  INFO 13576 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 15:07:56.732  INFO 13576 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 15:07:56.737  INFO 13576 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 15:07:56.740  INFO 13576 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 15:07:57.748  INFO 13576 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 11.046 seconds (JVM running for 14.138)
2020-02-09 15:07:58.292  INFO 13576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 15:07:58.628  INFO 13576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 15:07:58.699 DEBUG 13576 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:07:58.760 DEBUG 13576 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:07:58.812 DEBUG 13576 --- [main] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:07:58.857  INFO 13576 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 15:07:58.860  INFO 13576 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 15:07:58.885  INFO 13576 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 15:07:59.913  INFO 9288 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:07:59.918 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:07:59.919 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:07:59.922 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:59.924 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:07:59.925 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:07:59.928 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:59.930 DEBUG 9288 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:07:59.931 DEBUG 9288 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:07:59.933 DEBUG 9288 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:07:59.935 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:07:59.936 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:07:59.937 DEBUG 9288 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:07:59.938  INFO 9288 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:07:59.938  INFO 9288 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:07:59.956 ERROR 9288 --- [http-nio-8080-exec-2] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-2] Exception processing template "/blog": An error happened during template parsing (template: "class path resource [templates//blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.appreciation" (template: "/blog" - line 438, col 14)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.appreciation" (template: "/blog" - line 438, col 14)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'appreciation' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 71 common frames omitted

2020-02-09 15:07:59.959 ERROR 9288 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'appreciation' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 15:07:59.965 ERROR 9288 --- [http-nio-8080-exec-2] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/blog] and exception [An error happened during template parsing (template: "class path resource [templates//blog.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 15:08:40.052  INFO 1952 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 1952 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 15:08:40.054 DEBUG 1952 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 15:08:40.054  INFO 1952 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 15:08:40.084  INFO 1952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 15:08:40.085  INFO 1952 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 15:08:40.451  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.452  WARN 1952 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:08:40.546  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:08:40.547  WARN 1952 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:08:41.008  INFO 1952 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 15:08:41.014  INFO 1952 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 15:08:41.015  INFO 1952 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 15:08:41.016  INFO 1952 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 15:08:41.016  INFO 1952 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 15:08:41.016  INFO 1952 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 15:08:41.019  INFO 1952 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 15:08:41.072  INFO 1952 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 15:08:41.072  INFO 1952 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 987 ms
2020-02-09 15:08:41.740  INFO 1952 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 15:08:41.833  INFO 1952 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 15:08:41.938  INFO 1952 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 15:08:41.939  INFO 1952 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 15:08:41.939  INFO 1952 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 15:08:41.939  INFO 1952 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 15:08:42.162  INFO 1952 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 15:08:42.203  INFO 1952 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 15:08:42.206  INFO 1952 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.525 seconds (JVM running for 3.665)
2020-02-09 15:08:59.647  INFO 1952 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 15:08:59.648  INFO 1952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 15:08:59.656  INFO 1952 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-02-09 15:08:59.685  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 15:08:59.695  INFO 1952 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 15:08:59.779  INFO 1952 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 15:08:59.836 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:08:59.851 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:08:59.873 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:08:59.875 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:08:59.876 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 15:08:59.881 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 15:08:59.882 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:08:59.882 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:08:59.883 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.884 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:08:59.884 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:08:59.885 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.890 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:08:59.890 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:08:59.896 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:08:59.896 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:08:59.896 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:08:59.897 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.900 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:08:59.900 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:08:59.903 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:08:59.906 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:08:59.907 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:08:59.908 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:08:59.909 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:08:59.909 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:08:59.909 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:08:59.910 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:08:59.910 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:08:59.910 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:08:59.911 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:08:59.911 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:08:59.912 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.912 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:08:59.912 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:08:59.913 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.914 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:08:59.914 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:08:59.915 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.915 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:08:59.915 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:08:59.916 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:08:59.916 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:08:59.916 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:08:59.917 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:08:59.917 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:08:59.917 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:08:59.919 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.920 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:08:59.920 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:08:59.920 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:08:59.920 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:08:59.921 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:08:59.921 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:08:59.921 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:08:59.921 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:08:59.922 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:08:59.924 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:08:59.924 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:08:59.929 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:08:59.929  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:08:59.930  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:09:02.249  INFO 1952 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:09:02.250 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:09:02.251 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:09:02.252 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:09:02.253 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:09:02.253 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:09:02.254 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:09:02.255 DEBUG 1952 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:09:02.256 DEBUG 1952 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:09:02.257 DEBUG 1952 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:09:02.259 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:09:02.259 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:09:02.260 DEBUG 1952 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:09:02.261  INFO 1952 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:09:02.261  INFO 1952 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:09:02.284 ERROR 1952 --- [http-nio-8080-exec-7] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-7] Exception processing template "/blog": An error happened during template parsing (template: "class path resource [templates//blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.appreciation" (template: "/blog" - line 438, col 14)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.appreciation" (template: "/blog" - line 438, col 14)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'appreciation' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 71 common frames omitted

2020-02-09 15:09:02.288 ERROR 1952 --- [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'appreciation' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 15:09:02.300 ERROR 1952 --- [http-nio-8080-exec-7] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/blog] and exception [An error happened during template parsing (template: "class path resource [templates//blog.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 15:10:46.657  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:10:46.658 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:10:46.658 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:10:46.659 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:10:46.660 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:10:46.661 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:10:46.662 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:10:46.663 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:10:46.663 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:10:46.664 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:10:46.665 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:10:46.666 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:10:46.666 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:10:46.667  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:10:46.667  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:10:46.680 ERROR 1952 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "/blog": An error happened during template parsing (template: "class path resource [templates//blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.shareStatement" (template: "/blog" - line 459, col 49)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.shareStatement" (template: "/blog" - line 459, col 49)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'shareStatement' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 71 common frames omitted

2020-02-09 15:10:46.683 ERROR 1952 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'shareStatement' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 15:10:46.689 ERROR 1952 --- [http-nio-8080-exec-4] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/blog] and exception [An error happened during template parsing (template: "class path resource [templates//blog.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 15:11:27.703  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:11:27.705 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:11:27.705 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:11:27.706 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:11:27.707 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:11:27.707 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:11:27.707 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:11:27.708 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:11:27.709 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:11:27.710 DEBUG 1952 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:11:27.716 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:11:27.716 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:11:27.718 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:11:27.719  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:11:27.720  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:11:27.733 ERROR 1952 --- [http-nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template "/blog": An error happened during template parsing (template: "class path resource [templates//blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "blog.commentabled" (template: "/blog" - line 475, col 48)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "blog.commentabled" (template: "/blog" - line 475, col 48)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'commentabled' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 71 common frames omitted

2020-02-09 15:11:27.735 ERROR 1952 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'commentabled' cannot be found on object of type 'com.zl.pojo.Blog' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:125)
	at org.thymeleaf.standard.processor.StandardIfTagProcessor.isVisible(StandardIfTagProcessor.java:59)
	at org.thymeleaf.standard.processor.AbstractStandardConditionalVisibilityTagProcessor.doProcess(AbstractStandardConditionalVisibilityTagProcessor.java:61)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 15:11:27.740 ERROR 1952 --- [http-nio-8080-exec-1] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/blog] and exception [An error happened during template parsing (template: "class path resource [templates//blog.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 15:12:32.569  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:12:32.570 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:12:32.570 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:12:32.571 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:12:32.572 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:12:32.573 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:12:32.574 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:12:32.575 DEBUG 1952 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:12:32.576 DEBUG 1952 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:12:32.577 DEBUG 1952 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:12:32.579 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:12:32.579 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:12:32.579 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:12:32.580  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:12:32.580  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:13:56.436  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:13:56.437 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:13:56.438 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:13:56.438 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:13:56.439 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:13:56.439 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:13:56.440 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:13:56.441 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:13:56.441 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:13:56.442 DEBUG 1952 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:13:56.443 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:13:56.443 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:13:56.449 DEBUG 1952 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:13:56.450  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:13:56.450  INFO 1952 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:14:38.909  INFO 1952 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 15:14:38.912  INFO 1952 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:38.913  INFO 1952 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 15:14:42.486  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/login', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.login', args=[accuser, 123456, org.apache.catalina.session.StandardSessionFacade@29fac09d, {}]}
2020-02-09 15:14:42.488 DEBUG 1952 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE password = ? AND username = ? 
2020-02-09 15:14:42.489 DEBUG 1952 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : ==> Parameters: 123456(String), accuser(String)
2020-02-09 15:14:42.490 DEBUG 1952 --- [http-nio-8080-exec-3] com.zl.mapper.UserMapper.selectOne       : <==      Total: 1
2020-02-09 15:14:42.492  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:42.492  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : admin/index
2020-02-09 15:14:43.818  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/types', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.TypeController.queryTypesByPage', args=[1, 5, {}]}
2020-02-09 15:14:43.821 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.TypeMapper.selectAll_COUNT   : ==>  Preparing: SELECT count(0) FROM t_type 
2020-02-09 15:14:43.821 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.TypeMapper.selectAll_COUNT   : ==> Parameters: 
2020-02-09 15:14:43.822 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.TypeMapper.selectAll_COUNT   : <==      Total: 1
2020-02-09 15:14:43.822 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type LIMIT ? 
2020-02-09 15:14:43.822 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 5(Integer)
2020-02-09 15:14:43.823 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:14:43.824  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:43.824  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/types
2020-02-09 15:14:45.531  INFO 1952 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {}]}
2020-02-09 15:14:45.534 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:14:45.535 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:14:45.535 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:14:45.536 DEBUG 1952 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:14:45.536 DEBUG 1952 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 15:14:45.538 DEBUG 1952 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:14:45.538 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:14:45.538 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:14:45.539 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:45.539 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:14:45.539 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:14:45.540 DEBUG 1952 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:45.541 DEBUG 1952 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 15:14:45.542 DEBUG 1952 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 15:14:45.542 DEBUG 1952 --- [http-nio-8080-exec-2] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:14:45.543  INFO 1952 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:45.543  INFO 1952 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 15:14:48.165  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[12, {}]}
2020-02-09 15:14:48.167 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 15:14:48.167 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 15:14:48.168 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:14:48.169 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 15:14:48.169 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 15:14:48.170 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 15:14:48.171 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:14:48.171 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:14:48.171 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:48.174 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 15:14:48.175 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 15:14:48.177 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 15:14:48.179  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:48.179  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 15:14:54.933  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=12, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=转载, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=false, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@29fac09d, {}]}
2020-02-09 15:14:54.939 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 15:14:54.939 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 12(Long)
2020-02-09 15:14:54.940 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 15:14:54.943 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:14:54.944 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:14:54.944 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:14:54.947 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 15:14:54.951 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), 转载(String), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), false(Boolean), true(Boolean), 2020-02-09 15:14:54.945(Timestamp), 1(Long), 1(Long), 12(Long)
2020-02-09 15:14:54.954 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 15:14:54.957 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 15:14:54.957 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 15:14:54.959 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 15:14:54.961  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:54.961  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 15:14:54.975  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 15:14:54.976 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:14:54.977 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:14:54.977 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:14:54.978 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:14:54.978 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 15:14:54.979 DEBUG 1952 --- [http-nio-8080-exec-8] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:14:54.980 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:14:54.980 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:14:54.980 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:54.981 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:14:54.981 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:14:54.981 DEBUG 1952 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:54.984 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 15:14:54.984 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 15:14:54.985 DEBUG 1952 --- [http-nio-8080-exec-8] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:14:54.986  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:54.986  INFO 1952 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 15:14:58.216  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/edit', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.editBlogPage', args=[12, {}]}
2020-02-09 15:14:58.217 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 15:14:58.217 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 15:14:58.218 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:14:58.219 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==>  Preparing: SELECT id,name FROM t_tag 
2020-02-09 15:14:58.220 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : ==> Parameters: 
2020-02-09 15:14:58.222 DEBUG 1952 --- [http-nio-8080-exec-1] com.zl.mapper.TagMapper.selectAll        : <==      Total: 5
2020-02-09 15:14:58.223 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:14:58.224 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:14:58.226 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:14:58.228 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==>  Preparing: SELECT blog_id,tag_id FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 15:14:58.228 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 15:14:58.229 DEBUG 1952 --- [http-nio-8080-exec-1] c.z.m.BlogTagMapper.selectByExample      : <==      Total: 1
2020-02-09 15:14:58.229  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:14:58.229  INFO 1952 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : admin/blogs-input
2020-02-09 15:15:00.057  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs/save', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.saveBlog', args=[Blog(id=12, title=二、Spring注解之@Conditional, content=## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。, firstPicture=https://unsplash.it/800/450?image=1005, flag=转载, views=null, description=​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。, isAppreciation=true, isShare=true, isComment=true, isPublish=true, isRecommend=true, createTime=null, updateTime=null, create=null, update=null, typeId=1, userId=null, tagIds=2, type=null, tags=[], user=null, comments=[]), org.apache.catalina.session.StandardSessionFacade@29fac09d, {}]}
2020-02-09 15:15:00.064 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : ==>  Preparing: DELETE FROM t_blog_tags WHERE ( blog_id = ? ) 
2020-02-09 15:15:00.064 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : ==> Parameters: 12(Long)
2020-02-09 15:15:00.065 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.deleteByExample      : <==    Updates: 1
2020-02-09 15:15:00.068 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:15:00.069 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:15:00.069 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:15:00.071 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : ==>  Preparing: UPDATE t_blog SET id = id,title = ?,content = ?,first_picture = ?,flag = ?,description = ?,is_appreciation = ?,is_share = ?,is_comment = ?,is_publish = ?,is_recommend = ?,update_time = ?,type_id = ?,user_id = ? WHERE id = ? 
2020-02-09 15:15:00.072 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : ==> Parameters: 二、Spring注解之@Conditional(String), ## Spring注解之@Conditional

#### 【1】@Conditional介绍

​		@Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。

​		@Conditional源码：

```java
//此注解可以标注在类和方法上
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME) 
@Documented
public @interface Conditional {
    Class<? extends Condition>[] value();
}
```

​		从代码中可以看到，需要传入一个Class数组，并且需要继承Condition接口：

```java
public interface Condition {
    boolean matches(ConditionContext var1, AnnotatedTypeMetadata var2);
}
```

​		Condition是个接口，需要实现matches方法，返回true则注入bean，false则不注入。

#### 【2】@Conditional示例

​		首先，创建Person类：

```java
public class Person {
 
    private String name;
    private Integer age;
 
    public String getName() {
        return name;
    }
 
    public void setName(String name) {
        this.name = name;
    }
 
    public Integer getAge() {
        return age;
    }
 
    public void setAge(Integer age) {
        this.age = age;
    }
 
    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }
 
    @Override
    public String toString() {
        return "Person{" + "name='" + name + '\'' + ", age=" + age + '}';
    }
}
```

​		创建MyConfig类，用于配置两个Person实例并注入，一个是Bill Gates，一个是linus。

```java
@Configuration
public class MyConfig {
 
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

​		写一个测试类，测试是否注入成功

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
{bill=Person{name='Bill Gates',age=62},linus=Person{name='Linus',age='48'}}
*/
```

​		这是一个简单的例子，现在问题来了，如果我想根据当前操作系统来注入Person实例，windows下注入bill，linux下注入linus，怎么实现呢？

​		这就需要我们用到@Conditional注解了，前言中提到，需要实现Condition接口，并重写方法来自定义match规则。

​		首先，创建一个WindowsCondition类：

```java
public class WindowsCondition implements Condition {
 
    /**
     * @param conditionContext:判断条件能使用的上下文环境
     * @param annotatedTypeMetadata:注解所在位置的注释信息
     * */
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        //获取ioc使用的beanFactory
        ConfigurableListableBeanFactory beanFactory = conditionContext.getBeanFactory();
        //获取类加载器
        ClassLoader classLoader = conditionContext.getClassLoader();
        //获取当前环境信息
        Environment environment = conditionContext.getEnvironment();
        //获取bean定义的注册类
        BeanDefinitionRegistry registry = conditionContext.getRegistry();
 
        //获得当前系统名
        String property = environment.getProperty("os.name");
        //包含Windows则说明是windows系统，返回true
        if (property.contains("Windows")){
            return true;
        }
        return false;
    }
}
```

​		接着，创建LinuxCondition类：

```java
public class LinuxCondition implements Condition {
 
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
 
        Environment environment = conditionContext.getEnvironment();
 
        String property = environment.getProperty("os.name");
        if (property.contains("Linux")){
            return true;
        }
        return false;
    }
}
```

​		修改MyConfig：

```java
@Configuration
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Conditional({WindowsCondition.class})
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Conditional({LinuxCondition.class})
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

**标注在方法上：**

​		修改测试程序，开始测试：

```java
public class ConditionalTest {
    AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(BeanConfig.class);
 
    @Test
    public void test1(){
        String osName = applicationContext.getEnvironment().getProperty("os.name");
        System.out.println("当前系统为：" + osName)；
        Map<String, Person> map = applicationContext.getBeansOfType(Person.class);
        System.out.println(map);
    }
}
/**测试结果
当前系统为：Windows 10
{bill=Person{name='Bill Gates',age=62}}
*/
```

 一个方法只能注入一个bean实例，所以@Conditional标注在方法上只能控制一个bean实例是否注入

**标注在类上:**

```java
@Configuration
@Conditional({WindowsCondition.class})
public class MyConfig {
 
    //只有一个类时，大括号可以省略
    //如果WindowsCondition的实现方法返回true，则注入这个bean    
    @Bean(name = "bill")
    public Person person1(){
        return new Person("Bill Gates",62);
    }
 
    //如果LinuxCondition的实现方法返回true，则注入这个bean
    @Bean("linus")
    public Person person2(){
        return new Person("Linus",48);
    }
}
```

一个类中可以注入很多实例，@Conditional标注在类上就决定了一批bean是否注入。(String), https://unsplash.it/800/450?image=1005(String), 转载(String), ​ @Conditional是Spring4新提供的注解，它的作用是按照一定的条件进行判断，满足条件给容器注册bean。(String), true(Boolean), true(Boolean), true(Boolean), true(Boolean), true(Boolean), 2020-02-09 15:15:00.071(Timestamp), 1(Long), 1(Long), 12(Long)
2020-02-09 15:15:00.074 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.B.updateByPrimaryKeySelective      : <==    Updates: 1
2020-02-09 15:15:00.076 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : ==>  Preparing: INSERT INTO t_blog_tags ( blog_id,tag_id ) VALUES( ?,? ) 
2020-02-09 15:15:00.077 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : ==> Parameters: 12(Long), 2(Long)
2020-02-09 15:15:00.077 DEBUG 1952 --- [http-nio-8080-exec-5] c.z.m.BlogTagMapper.insertSelective      : <==    Updates: 1
2020-02-09 15:15:00.079  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:15:00.079  INFO 1952 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : redirect:/admin/blogs
2020-02-09 15:15:00.083  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin/blogs', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.BlogController.queryBlogByPage', args=[1, 5, {message=操作成功}]}
2020-02-09 15:15:00.084 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:15:00.084 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:15:00.084 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:15:00.086 DEBUG 1952 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:15:00.086 DEBUG 1952 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 5(Integer)
2020-02-09 15:15:00.087 DEBUG 1952 --- [http-nio-8080-exec-9] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:15:00.087 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:15:00.088 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:15:00.088 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:15:00.088 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:15:00.089 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:15:00.089 DEBUG 1952 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:15:00.091 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==>  Preparing: SELECT id,name FROM t_type 
2020-02-09 15:15:00.092 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : ==> Parameters: 
2020-02-09 15:15:00.093 DEBUG 1952 --- [http-nio-8080-exec-9] com.zl.mapper.TypeMapper.selectAll       : <==      Total: 3
2020-02-09 15:15:00.093  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:15:00.094  INFO 1952 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : admin/blogs
2020-02-09 15:15:09.413  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:15:09.415 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:15:09.415 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:15:09.416 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:15:09.417 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:15:09.418 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:15:09.419 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:15:09.420 DEBUG 1952 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:15:09.420 DEBUG 1952 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:15:09.421 DEBUG 1952 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:15:09.423 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:15:09.423 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:15:09.424 DEBUG 1952 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:15:09.424  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:15:09.424  INFO 1952 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:15:09.432 ERROR 1952 --- [http-nio-8080-exec-3] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-3] Exception processing template "/blog": An error happened during template parsing (template: "class path resource [templates//blog.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "session.user.nickname" (template: "/blog" - line 539, col 69)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	... 48 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "session.user.nickname" (template: "/blog" - line 539, col 69)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:290)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.ConditionalExpression.executeConditional(ConditionalExpression.java:213)
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:77)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)
	at org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	... 50 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'nickname' cannot be found on object of type 'com.zl.pojo.User' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	... 73 common frames omitted

2020-02-09 15:15:09.434 ERROR 1952 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates//blog.html]")] with root cause

org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'nickname' cannot be found on object of type 'com.zl.pojo.User' - maybe not public or not valid?
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)
	at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:337)
	at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:263)
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.expression.ConditionalExpression.executeConditional(ConditionalExpression.java:213)
	at org.thymeleaf.standard.expression.ComplexExpression.executeComplex(ComplexExpression.java:77)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:112)
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918)
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256)
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169)
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104)
	at org.attoparser.HtmlVoidElement.handleOpenElementEnd(HtmlVoidElement.java:92)
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)
	at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:362)
	at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:189)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 15:15:09.441 ERROR 1952 --- [http-nio-8080-exec-3] s.e.ErrorMvcAutoConfiguration$StaticView : Cannot render error page for request [/blog] and exception [An error happened during template parsing (template: "class path resource [templates//blog.html]")] as the response has already been committed. As a result, the response may have the wrong status code.
2020-02-09 15:41:56.428  INFO 6712 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 6712 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 15:41:56.431 DEBUG 6712 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 15:41:56.432  INFO 6712 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 15:41:56.492  INFO 6712 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 15:41:56.493  INFO 6712 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 15:41:57.224  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.225  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.225  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.226  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.226  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.227  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.228  WARN 6712 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:41:57.453  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.454  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.454  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.454  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.454  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.454  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:41:57.455  WARN 6712 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:41:58.371  INFO 6712 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 15:41:58.381  INFO 6712 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 15:41:58.382  INFO 6712 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 15:41:58.384  INFO 6712 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 15:41:58.385  INFO 6712 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 15:41:58.385  INFO 6712 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 15:41:58.391  INFO 6712 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 15:41:58.481  INFO 6712 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 15:41:58.481  INFO 6712 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1988 ms
2020-02-09 15:41:59.583  INFO 6712 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 15:41:59.689  INFO 6712 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 15:41:59.815  INFO 6712 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 15:41:59.816  INFO 6712 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 15:41:59.817  INFO 6712 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 15:41:59.817  INFO 6712 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 15:42:00.074  INFO 6712 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 15:42:00.128  INFO 6712 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 15:42:00.132  INFO 6712 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 4.434 seconds (JVM running for 7.1)
2020-02-09 15:44:08.566  INFO 6712 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 15:44:08.567  INFO 6712 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 15:44:08.578  INFO 6712 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2020-02-09 15:44:08.601  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 15:44:08.609  INFO 6712 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 15:44:08.691  INFO 6712 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 15:44:08.749 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:44:08.764 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:44:08.805 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:44:08.807 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:44:08.808 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 15:44:08.815 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 15:44:08.817 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:08.818 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:08.819 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.821 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:44:08.821 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:08.823 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.830 DEBUG 6712 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:44:08.831 DEBUG 6712 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:44:08.838 DEBUG 6712 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:44:08.839 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:08.839 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:08.840 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.844 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:44:08.844 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:44:08.848 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:44:08.852 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:44:08.852 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:44:08.854 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:44:08.855 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:08.855 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:44:08.856 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:08.856 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:08.857 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:44:08.858 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:44:08.858 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:08.858 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:44:08.859 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.860 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:08.860 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:44:08.861 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.862 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:08.862 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:44:08.863 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.864 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:08.864 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:44:08.865 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:08.866 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:08.866 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:44:08.867 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:44:08.867 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:08.868 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:44:08.870 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.872 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:08.872 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:44:08.873 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:08.873 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:08.873 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:44:08.874 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:44:08.874 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:08.874 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:44:08.875 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:08.877 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:44:08.877 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:44:08.881 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:44:08.882  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:44:08.882  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:44:13.245  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:44:13.246 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:13.247 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:44:13.248 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:13.281 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:44:13.281 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:13.282 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:13.283 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:44:13.283 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:44:13.285 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:44:13.286 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:13.286 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:13.287 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:13.287  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:44:13.287  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:44:39.335  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[13, {}]}
2020-02-09 15:44:39.336 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:39.337 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:44:39.338 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:39.343 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:44:39.344 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:39.344 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:39.345 DEBUG 6712 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:44:39.345 DEBUG 6712 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 13(Long)
2020-02-09 15:44:39.346 DEBUG 6712 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:44:39.347 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:39.347 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:39.347 DEBUG 6712 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:39.348  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:44:39.348  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:44:52.142  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[2, 4, {}]}
2020-02-09 15:44:52.145 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:44:52.145 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:44:52.146 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:44:52.147 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ?, ? 
2020-02-09 15:44:52.147 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer), 4(Integer)
2020-02-09 15:44:52.148 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 1
2020-02-09 15:44:52.149 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:52.149 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:52.149 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.150 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:44:52.150 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:52.150 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.151 DEBUG 6712 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:44:52.151 DEBUG 6712 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:44:52.159 DEBUG 6712 --- [http-nio-8080-exec-3] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:44:52.160 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:52.161 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:52.161 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.163 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:44:52.163 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:44:52.165 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:44:52.166 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:44:52.166 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:44:52.167 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:44:52.168 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:52.168 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:44:52.168 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:52.169 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:52.169 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:44:52.169 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:44:52.170 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:52.170 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:44:52.170 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.171 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:52.171 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:44:52.172 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.172 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:52.172 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:44:52.173 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.173 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:52.174 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:44:52.174 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:52.175 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:52.175 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:44:52.175 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:44:52.176 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:52.176 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:44:52.176 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.177 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:44:52.177 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:44:52.178 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:44:52.179 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:44:52.179 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:44:52.181 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:44:52.183 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:52.183 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:44:52.184 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:52.186 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:44:52.187 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:44:52.188 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:44:52.189  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:44:52.189  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:44:53.908  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[16, {}]}
2020-02-09 15:44:53.909 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:44:53.909 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:44:53.910 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:53.919 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:44:53.920 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:53.921 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:53.922 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:44:53.922 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 16(Long)
2020-02-09 15:44:53.923 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:44:53.924 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:44:53.924 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:44:53.925 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:44:53.926  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:44:53.926  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:47:00.819  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[16, {}]}
2020-02-09 15:47:00.820 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:47:00.820 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:47:00.821 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:00.824 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:47:00.824 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:00.824 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:00.825 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:47:00.825 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 16(Long)
2020-02-09 15:47:00.826 DEBUG 6712 --- [http-nio-8080-exec-2] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:47:00.827 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:47:00.827 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:00.827 DEBUG 6712 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:00.828  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:47:00.828  INFO 6712 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:47:12.912  INFO 6712 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[16, {}]}
2020-02-09 15:47:12.913 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:47:12.913 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:47:12.914 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:12.917 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:47:12.917 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:12.918 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:12.920 DEBUG 6712 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:47:12.920 DEBUG 6712 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 16(Long)
2020-02-09 15:47:12.921 DEBUG 6712 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:47:12.923 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:47:12.923 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:12.924 DEBUG 6712 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:12.924  INFO 6712 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:47:12.924  INFO 6712 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:47:16.806  INFO 6712 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[16, {}]}
2020-02-09 15:47:16.807 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:47:16.808 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:47:16.808 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:16.811 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:47:16.812 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:16.813 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:16.814 DEBUG 6712 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:47:16.814 DEBUG 6712 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 16(Long)
2020-02-09 15:47:16.815 DEBUG 6712 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:47:16.817 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:47:16.817 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:16.817 DEBUG 6712 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:16.818  INFO 6712 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:47:16.818  INFO 6712 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:47:33.275  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[16, {}]}
2020-02-09 15:47:33.276 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:47:33.277 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:47:33.278 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:33.281 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:47:33.281 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:33.281 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:33.282 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:47:33.282 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 16(Long)
2020-02-09 15:47:33.283 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:47:33.284 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:47:33.285 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:47:33.286 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:47:33.287  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:47:33.287  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:48:50.382  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 15:48:50.384 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:48:50.385 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:48:50.386 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:48:50.387 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:48:50.387 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 15:48:50.389 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 15:48:50.390 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:48:50.390 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:48:50.391 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.392 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:48:50.392 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:48:50.393 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.394 DEBUG 6712 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:48:50.394 DEBUG 6712 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:48:50.406 DEBUG 6712 --- [http-nio-8080-exec-7] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:48:50.407 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:48:50.407 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:48:50.407 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.408 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:48:50.408 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:48:50.410 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:48:50.411 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:48:50.412 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:48:50.414 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:48:50.414 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:48:50.414 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:48:50.415 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:48:50.415 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:48:50.415 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:48:50.416 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:48:50.416 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:50.416 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:48:50.417 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.417 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:50.418 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:48:50.419 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.419 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:50.419 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:48:50.420 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.420 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:48:50.420 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:48:50.421 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:48:50.421 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:48:50.421 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:48:50.421 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:48:50.422 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:50.422 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:48:50.422 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.423 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:48:50.423 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:48:50.424 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:48:50.424 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:48:50.424 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:48:50.425 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:48:50.425 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:50.425 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:48:50.426 DEBUG 6712 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:50.428 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:48:50.428 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:48:50.430 DEBUG 6712 --- [http-nio-8080-exec-7] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:48:50.431  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:48:50.431  INFO 6712 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:48:53.470  INFO 6712 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[15, {}]}
2020-02-09 15:48:53.471 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:48:53.471 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:48:53.472 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:53.476 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:48:53.476 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:48:53.477 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:53.478 DEBUG 6712 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:48:53.478 DEBUG 6712 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 15(Long)
2020-02-09 15:48:53.481 DEBUG 6712 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:48:53.482 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:48:53.483 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:48:53.484 DEBUG 6712 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:48:53.485  INFO 6712 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:48:53.485  INFO 6712 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:49:00.923  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[15, {}]}
2020-02-09 15:49:00.924 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:49:00.924 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:49:00.925 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:00.927 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:49:00.927 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:49:00.928 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:00.929 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:49:00.929 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 15(Long)
2020-02-09 15:49:00.930 DEBUG 6712 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:49:00.932 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:49:00.932 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:49:00.933 DEBUG 6712 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:00.934  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:49:00.934  INFO 6712 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:49:48.922  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/admin', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.LoginController.loginPage', args=[]}
2020-02-09 15:49:48.924  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:49:48.924  INFO 6712 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : admin/login
2020-02-09 15:49:52.475  INFO 6712 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:49:52.476 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:49:52.477 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:49:52.479 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:52.481 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:49:52.483 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:49:52.484 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:52.484 DEBUG 6712 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:49:52.485 DEBUG 6712 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:49:52.486 DEBUG 6712 --- [http-nio-8080-exec-1] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:49:52.487 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:49:52.487 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:49:52.488 DEBUG 6712 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:49:52.489  INFO 6712 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:49:52.489  INFO 6712 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:51:38.860  INFO 15948 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 15948 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 15:51:38.864 DEBUG 15948 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 15:51:38.864  INFO 15948 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 15:51:38.930  INFO 15948 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 15:51:38.930  INFO 15948 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 15:51:39.708  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.709  WARN 15948 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:51:39.900  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.901  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.901  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.901  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.902  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.902  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 15:51:39.903  WARN 15948 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 15:51:40.692  INFO 15948 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 15:51:40.702  INFO 15948 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 15:51:40.702  INFO 15948 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 15:51:40.705  INFO 15948 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 15:51:40.705  INFO 15948 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 15:51:40.705  INFO 15948 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 15:51:40.709  INFO 15948 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 15:51:40.795  INFO 15948 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 15:51:40.795  INFO 15948 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1865 ms
2020-02-09 15:51:41.904  INFO 15948 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 15:51:42.010  INFO 15948 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 15:51:42.131  INFO 15948 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 15:51:42.132  INFO 15948 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 15:51:42.133  INFO 15948 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 15:51:42.133  INFO 15948 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 15:51:42.373  INFO 15948 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 15:51:42.432  INFO 15948 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 15:51:42.435  INFO 15948 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 4.318 seconds (JVM running for 7.329)
2020-02-09 15:54:00.539  INFO 15948 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 15:54:00.539  INFO 15948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 15:54:00.550  INFO 15948 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2020-02-09 15:54:00.573  INFO 15948 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 15:54:00.582  INFO 15948 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 15:54:00.662  INFO 15948 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 15:54:00.721 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 15:54:00.736 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 15:54:00.751 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 15:54:00.752 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 15:54:00.753 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 15:54:00.760 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 15:54:00.761 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:54:00.761 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:00.762 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.763 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:54:00.763 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:00.764 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.769 DEBUG 15948 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 15:54:00.769 DEBUG 15948 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 15:54:00.779 DEBUG 15948 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 15:54:00.779 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:54:00.780 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:00.780 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.784 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 15:54:00.784 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 15:54:00.788 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:54:00.791 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 15:54:00.792 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 15:54:00.794 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 15:54:00.794 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:54:00.794 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 15:54:00.795 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:54:00.796 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:54:00.796 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 15:54:00.797 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 15:54:00.797 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:00.798 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:54:00.799 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.799 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:00.800 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:54:00.801 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.801 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:00.801 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 15:54:00.802 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.803 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:54:00.803 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 15:54:00.803 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:54:00.804 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:54:00.804 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 15:54:00.804 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:54:00.805 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:00.806 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:54:00.809 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.812 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 15:54:00.812 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 15:54:00.813 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 15:54:00.813 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 15:54:00.814 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 15:54:00.815 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 15:54:00.815 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:00.815 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 15:54:00.817 DEBUG 15948 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:00.819 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 15:54:00.819 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 15:54:00.824 DEBUG 15948 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 15:54:00.825  INFO 15948 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:54:00.825  INFO 15948 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 15:54:04.380  INFO 15948 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 15:54:04.384 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:04.385 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 15:54:04.388 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:04.416 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:54:04.416 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:04.417 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:04.417 DEBUG 15948 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:54:04.418 DEBUG 15948 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 15:54:04.419 DEBUG 15948 --- [http-nio-8080-exec-4] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:54:04.420 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:54:04.420 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:04.421 DEBUG 15948 --- [http-nio-8080-exec-4] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:04.421  INFO 15948 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:54:04.421  INFO 15948 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:54:26.584  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[13, {}]}
2020-02-09 15:54:26.586 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:54:26.586 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 15:54:26.588 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:26.596 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:54:26.596 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:26.597 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:26.598 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:54:26.599 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 13(Long)
2020-02-09 15:54:26.600 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:54:26.601 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:54:26.601 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:54:26.602 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:54:26.602  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:54:26.602  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 15:55:39.157  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[15, {}]}
2020-02-09 15:55:39.158 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 15:55:39.159 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 15:55:39.160 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:55:39.164 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 15:55:39.165 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:55:39.167 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:55:39.168 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 15:55:39.169 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 15(Long)
2020-02-09 15:55:39.170 DEBUG 15948 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 15:55:39.175 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 15:55:39.176 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 15:55:39.176 DEBUG 15948 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 15:55:39.177  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 15:55:39.177  INFO 15948 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 17:44:30.528  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 8196 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 17:44:30.531 DEBUG 8196 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 17:44:30.531  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 17:44:30.630  INFO 8196 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-02-09 17:44:30.630  INFO 8196 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-02-09 17:44:31.294  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.294  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.294  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.294  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.295  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.295  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.295  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 17:44:31.448  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.449  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.449  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.449  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.449  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.449  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 17:44:31.450  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 17:44:32.213  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 17:44:32.224  INFO 8196 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 17:44:32.224  INFO 8196 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 17:44:32.227  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 17:44:32.227  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 17:44:32.227  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 17:44:32.241  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 17:44:32.327  INFO 8196 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 17:44:32.328  INFO 8196 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1697 ms
2020-02-09 17:44:33.499  INFO 8196 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 17:44:33.613  INFO 8196 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 17:44:33.730  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 17:44:33.731  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 17:44:33.731  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 17:44:33.731  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 17:44:33.969  INFO 8196 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 17:44:34.022  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 17:44:34.025  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 4.15 seconds (JVM running for 5.15)
2020-02-09 17:45:38.251  INFO 8196 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 17:45:38.252  INFO 8196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 17:45:38.260  INFO 8196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-02-09 17:45:38.283  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 17:45:38.290  INFO 8196 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 17:45:38.391  INFO 8196 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 17:45:38.450 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 17:45:38.473 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 17:45:38.515 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 17:45:38.517 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 17:45:38.518 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 17:45:38.523 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 17:45:38.524 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:45:38.525 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:45:38.526 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.526 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 17:45:38.526 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:45:38.527 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.534 DEBUG 8196 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 17:45:38.534 DEBUG 8196 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 17:45:38.550 DEBUG 8196 --- [http-nio-8080-exec-1] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 17:45:38.551 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:45:38.551 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:45:38.552 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.555 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 17:45:38.555 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 17:45:38.559 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 17:45:38.562 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 17:45:38.562 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 17:45:38.564 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 17:45:38.565 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 17:45:38.565 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 17:45:38.566 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 17:45:38.567 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 17:45:38.567 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 17:45:38.567 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 17:45:38.568 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:38.568 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 17:45:38.569 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.569 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:38.569 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 17:45:38.570 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.570 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:38.570 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 17:45:38.571 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.571 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 17:45:38.572 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 17:45:38.572 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 17:45:38.573 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 17:45:38.573 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 17:45:38.573 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 17:45:38.574 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:38.575 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 17:45:38.576 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.577 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 17:45:38.577 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 17:45:38.578 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 17:45:38.578 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 17:45:38.578 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 17:45:38.579 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 17:45:38.579 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:38.579 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 17:45:38.580 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:38.582 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 17:45:38.582 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 17:45:38.586 DEBUG 8196 --- [http-nio-8080-exec-1] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 17:45:38.587  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:45:38.588  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 17:45:41.551  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 17:45:41.553 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:45:41.554 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 17:45:41.555 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:41.585 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 17:45:41.585 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:45:41.586 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:41.587 DEBUG 8196 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 17:45:41.587 DEBUG 8196 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 17:45:41.590 DEBUG 8196 --- [http-nio-8080-exec-3] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 17:45:41.591 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:45:41.591 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:45:41.593 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:45:41.593  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:45:41.593  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 17:46:09.990  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=null, email=123@163.com, content=测试评论, avatar=null, createTime=null, blogId=12, parentCommentId=-1, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 17:46:09.996 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? ) 
2020-02-09 17:46:09.998 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, 123@163.com(String), 测试评论(String), /images/avatar.png(String), 2020-02-09 17:46:09.994(Timestamp), 12(Long), -1(Long)
2020-02-09 17:46:10.057  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:46:10.059 ERROR 8196 --- [http-nio-8080-exec-9] c.zl.handler.ControllerExceptionHandler  : Request URL :http://localhost:8080/comments, Exception : {}

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in com/zl/mapper/CommentMapper.java (best guess)
### The error may involve com.zl.mapper.CommentMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy84.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93)
	at com.sun.proxy.$Proxy104.insertSelective(Unknown Source)
	at com.zl.service.CommentService.saveComment(CommentService.java:37)
	at com.zl.service.CommentService$$FastClassBySpringCGLIB$$49fab7de.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.service.CommentService$$EnhancerBySpringCGLIB$$b23c2774.saveComment(<generated>)
	at com.zl.controller.CommentController.addComment(CommentController.java:27)
	at com.zl.controller.CommentController$$FastClassBySpringCGLIB$$419eb638.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.controller.CommentController$$EnhancerBySpringCGLIB$$d633096c.addComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor81.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy124.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 87 common frames omitted

2020-02-09 17:46:10.061  WARN 8196 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in com/zl/mapper/CommentMapper.java (best guess)
### The error may involve com.zl.mapper.CommentMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))]
2020-02-09 17:48:04.289  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 17:48:04.290 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:48:04.302 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 17:48:04.304 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:04.307 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 17:48:04.307 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:48:04.308 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:04.308 DEBUG 8196 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 17:48:04.308 DEBUG 8196 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 17:48:04.309 DEBUG 8196 --- [http-nio-8080-exec-5] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 17:48:04.310 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:48:04.310 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:48:04.311 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:04.312  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:48:04.312  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 17:48:21.243  INFO 8196 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=null, email=123@163.com, content=测试, avatar=null, createTime=null, blogId=12, parentCommentId=-1, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 17:48:21.245 DEBUG 8196 --- [http-nio-8080-exec-4] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? ) 
2020-02-09 17:48:21.246 DEBUG 8196 --- [http-nio-8080-exec-4] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, 123@163.com(String), 测试(String), /images/avatar.png(String), 2020-02-09 17:48:21.244(Timestamp), 12(Long), -1(Long)
2020-02-09 17:48:21.253  INFO 8196 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:48:21.254 ERROR 8196 --- [http-nio-8080-exec-4] c.zl.handler.ControllerExceptionHandler  : Request URL :http://localhost:8080/comments, Exception : {}

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in com/zl/mapper/CommentMapper.java (best guess)
### The error may involve com.zl.mapper.CommentMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:247)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:88)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:440)
	at com.sun.proxy.$Proxy84.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:271)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:93)
	at com.sun.proxy.$Proxy104.insertSelective(Unknown Source)
	at com.zl.service.CommentService.saveComment(CommentService.java:37)
	at com.zl.service.CommentService$$FastClassBySpringCGLIB$$49fab7de.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.service.CommentService$$EnhancerBySpringCGLIB$$b23c2774.saveComment(<generated>)
	at com.zl.controller.CommentController.addComment(CommentController.java:27)
	at com.zl.controller.CommentController$$FastClassBySpringCGLIB$$419eb638.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:47)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)
	at com.zl.controller.CommentController$$EnhancerBySpringCGLIB$$d633096c.addComment(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:370)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.GeneratedMethodAccessor81.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:47)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:74)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)
	at com.sun.proxy.$Proxy124.update(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	... 87 common frames omitted

2020-02-09 17:48:21.256  WARN 8196 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
### The error may exist in com/zl/mapper/CommentMapper.java (best guess)
### The error may involve com.zl.mapper.CommentMapper.insertSelective-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO t_comment  ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? )
### Cause: java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))
; Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`)); nested exception is java.sql.SQLIntegrityConstraintViolationException: Cannot add or update a child row: a foreign key constraint fails (`blog`.`t_comment`, CONSTRAINT `FK4jj284r3pb7japogvo6h72q95` FOREIGN KEY (`parent_comment_id`) REFERENCES `t_comment` (`id`))]
2020-02-09 17:48:41.734  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 17:48:41.735 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:48:41.735 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 17:48:41.736 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:41.740 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 17:48:41.741 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:48:41.742 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:41.743 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 17:48:41.743 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 17:48:41.744 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 17:48:41.745 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:48:41.745 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:48:41.745 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:48:41.747  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:48:41.747  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 17:48:54.389  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=null, email=123@163.com, content=123, avatar=null, createTime=null, blogId=12, parentCommentId=-1, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 17:48:54.390 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,? ) 
2020-02-09 17:48:54.391 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, 123@163.com(String), 123(String), /images/avatar.png(String), 2020-02-09 17:48:54.39(Timestamp), 12(Long), -1(Long)
2020-02-09 17:48:54.392 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.CommentMapper.insertSelective      : <==    Updates: 1
2020-02-09 17:48:54.394 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.C.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 17:48:54.396 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.C.insertSelective!selectKey        : <==      Total: 1
2020-02-09 17:48:54.398  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:48:54.398  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : redirect:/comments?blogId=12
2020-02-09 17:48:54.410  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 17:48:54.412 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time asc 
2020-02-09 17:48:54.412 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 17:48:54.413 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 17:48:54.414  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:48:54.414  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 17:53:51.334  WARN 8196 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m42s834ms634µs200ns).
2020-02-09 17:56:11.959  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 17:56:11.960 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 17:56:11.960 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 17:56:11.962 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:56:11.964 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 17:56:11.965 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:56:11.965 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:56:11.966 DEBUG 8196 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 17:56:11.967 DEBUG 8196 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 17:56:11.978 DEBUG 8196 --- [http-nio-8080-exec-10] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 17:56:11.980 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 17:56:11.981 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 17:56:11.981 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 17:56:11.982  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:56:11.982  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 17:56:36.775  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=zl, email=123@123.com, content=qwr, avatar=null, createTime=null, blogId=12, parentCommentId=-1, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 17:56:36.777 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,?,? ) 
2020-02-09 17:56:36.777 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, zl(String), 123@123.com(String), qwr(String), /images/avatar.png(String), 2020-02-09 17:56:36.776(Timestamp), 12(Long), -1(Long)
2020-02-09 17:56:36.779 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.insertSelective      : <==    Updates: 1
2020-02-09 17:56:36.779 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.C.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 17:56:36.780 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.C.insertSelective!selectKey        : <==      Total: 1
2020-02-09 17:56:36.782  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:56:36.782  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : redirect:/comments?blogId=12
2020-02-09 17:56:36.785  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 17:56:36.786 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time asc 
2020-02-09 17:56:36.786 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 17:56:36.787 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : <==      Total: 2
2020-02-09 17:56:36.788  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 17:56:36.788  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 18:00:12.045  INFO 8196 --- [Thread-13] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 18:00:12.047  INFO 8196 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 18:00:12.060  INFO 8196 --- [Thread-13] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 18:00:13.253  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 8196 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 18:00:13.254 DEBUG 8196 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 18:00:13.254  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 18:00:13.509  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.509  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.509  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.509  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.509  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.510  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.510  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 18:00:13.585  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.585  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.586  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.586  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.586  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.586  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 18:00:13.586  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 18:00:13.845  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 18:00:13.846  INFO 8196 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 18:00:13.846  INFO 8196 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 18:00:13.847  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 18:00:13.847  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 18:00:13.847  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 18:00:13.848  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 18:00:13.882  INFO 8196 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 18:00:13.882  INFO 8196 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 625 ms
2020-02-09 18:00:14.927  INFO 8196 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 18:00:15.011  INFO 8196 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 18:00:15.091  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 18:00:15.091  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 18:00:15.092  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 18:00:15.092  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 18:00:15.308  INFO 8196 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 18:00:15.327  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 18:00:15.328  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.126 seconds (JVM running for 946.459)
2020-02-09 18:00:15.331  INFO 8196 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 18:00:16.670  INFO 8196 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-02-09 18:00:16.671  INFO 8196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2020-02-09 18:00:16.679  INFO 8196 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2020-02-09 18:00:16.684  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=zl, email=123@123.com, content=123, avatar=null, createTime=null, blogId=12, parentCommentId=4, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 18:00:16.687  INFO 8196 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2020-02-09 18:00:16.691  INFO 8196 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2020-02-09 18:00:16.694 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,?,? ) 
2020-02-09 18:00:16.694 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, zl(String), 123@123.com(String), 123(String), /images/avatar.png(String), 2020-02-09 18:00:16.693(Timestamp), 12(Long), 4(Long)
2020-02-09 18:00:16.697 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.CommentMapper.insertSelective      : <==    Updates: 1
2020-02-09 18:00:16.697 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.C.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 18:00:16.698 DEBUG 8196 --- [http-nio-8080-exec-1] c.z.m.C.insertSelective!selectKey        : <==      Total: 1
2020-02-09 18:00:16.700  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:00:16.701  INFO 8196 --- [http-nio-8080-exec-1] com.zl.aspect.LogAspect                  : Result : redirect:/comments?blogId=12
2020-02-09 18:00:16.712  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 18:00:16.714 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 18:00:16.714 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 18:00:16.715 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.CommentMapper.selectByExample      : <==      Total: 3
2020-02-09 18:00:16.716  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:00:16.716  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 18:01:32.319  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=hahaah, email=123@123.com, content=huifuni, avatar=null, createTime=null, blogId=12, parentCommentId=5, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 18:01:32.321 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,?,? ) 
2020-02-09 18:01:32.322 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, hahaah(String), 123@123.com(String), huifuni(String), /images/avatar.png(String), 2020-02-09 18:01:32.32(Timestamp), 12(Long), 5(Long)
2020-02-09 18:01:32.331 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.insertSelective      : <==    Updates: 1
2020-02-09 18:01:32.331 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.C.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 18:01:32.332 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.C.insertSelective!selectKey        : <==      Total: 1
2020-02-09 18:01:32.334  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:01:32.334  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : redirect:/comments?blogId=12
2020-02-09 18:01:32.339  INFO 8196 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 18:01:32.340 DEBUG 8196 --- [http-nio-8080-exec-6] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 18:01:32.341 DEBUG 8196 --- [http-nio-8080-exec-6] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 18:01:32.342 DEBUG 8196 --- [http-nio-8080-exec-6] c.z.m.CommentMapper.selectByExample      : <==      Total: 4
2020-02-09 18:01:32.343  INFO 8196 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:01:32.343  INFO 8196 --- [http-nio-8080-exec-6] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 18:01:51.893  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.addComment', args=[Comment(id=null, nickName=nishishei, email=123@123.com, content=sdf, avatar=null, createTime=null, blogId=12, parentCommentId=-1, blog=null, replyComments=[], parentComment=null)]}
2020-02-09 18:01:51.894 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.CommentMapper.insertSelective      : ==>  Preparing: INSERT INTO t_comment ( id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id ) VALUES( ?,?,?,?,?,?,?,? ) 
2020-02-09 18:01:51.894 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.CommentMapper.insertSelective      : ==> Parameters: null, nishishei(String), 123@123.com(String), sdf(String), /images/avatar.png(String), 2020-02-09 18:01:51.893(Timestamp), 12(Long), -1(Long)
2020-02-09 18:01:51.903 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.CommentMapper.insertSelective      : <==    Updates: 1
2020-02-09 18:01:51.904 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.C.insertSelective!selectKey        : ==>  Executing: SELECT LAST_INSERT_ID() 
2020-02-09 18:01:51.905 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.C.insertSelective!selectKey        : <==      Total: 1
2020-02-09 18:01:51.907  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:01:51.907  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : redirect:/comments?blogId=12
2020-02-09 18:01:51.910  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 18:01:51.911 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 18:01:51.911 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 18:01:51.912 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 18:01:51.912  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:01:51.912  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 18:51:46.499  WARN 8196 --- [HikariPool-2 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Thread starvation or clock leap detected (housekeeper delta=48m59s703ms137µs).
2020-02-09 18:55:16.720  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 18:55:16.729 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 18:55:16.729 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 18:55:16.730 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 18:55:16.731 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 18:55:16.731 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 18:55:16.734 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 18:55:16.736 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:55:16.736 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:55:16.738 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.739 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 18:55:16.739 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:55:16.740 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.746 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 18:55:16.746 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 18:55:16.753 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 18:55:16.754 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:55:16.754 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:55:16.754 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.755 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 18:55:16.755 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 18:55:16.756 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 18:55:16.759 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 18:55:16.760 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 18:55:16.761 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 18:55:16.761 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:55:16.762 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 18:55:16.762 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:55:16.763 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:55:16.763 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 18:55:16.763 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 18:55:16.764 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:16.764 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 18:55:16.764 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.765 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:16.765 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 18:55:16.765 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.765 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:16.766 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 18:55:16.766 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.766 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:55:16.767 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 18:55:16.767 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:55:16.767 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:55:16.767 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 18:55:16.767 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 18:55:16.768 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:16.768 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 18:55:16.768 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.769 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:55:16.769 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 18:55:16.769 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:55:16.769 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:55:16.769 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 18:55:16.770 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 18:55:16.770 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:16.770 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 18:55:16.771 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:16.772 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 18:55:16.772 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 18:55:16.776 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 18:55:16.778  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:55:16.778  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 18:55:19.962  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 18:55:19.963 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:55:19.963 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 18:55:19.964 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:19.969 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 18:55:19.969 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:55:19.970 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:19.971 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 18:55:19.971 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 18:55:19.972 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 18:55:19.973 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:55:19.973 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:55:19.973 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:55:19.974  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:55:19.974  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 18:55:20.408 ERROR 8196 --- [http-nio-8080-exec-6] c.zl.handler.ControllerExceptionHandler  : Request URL :http://localhost:8080/comments, Exception : {}

org.springframework.web.bind.MissingServletRequestParameterException: Required Long parameter 'blogId' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:204)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:167)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)

2020-02-09 18:55:20.409  WARN 8196 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required Long parameter 'blogId' is not present]
2020-02-09 18:56:29.468  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.indexPage', args=[1, 4, {}]}
2020-02-09 18:56:29.469 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==>  Preparing: SELECT count(0) FROM t_blog 
2020-02-09 18:56:29.470 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : ==> Parameters: 
2020-02-09 18:56:29.470 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByExample_COUNT   : <==      Total: 1
2020-02-09 18:56:29.471 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog LIMIT ? 
2020-02-09 18:56:29.471 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 4(Integer)
2020-02-09 18:56:29.472 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 4
2020-02-09 18:56:29.473 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:56:29.473 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:56:29.473 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.474 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 18:56:29.474 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:56:29.474 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.476 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==>  Preparing: SELECT * FROM t_blog GROUP BY type_id ORDER BY COUNT(type_id) DESC LIMIT 6 
2020-02-09 18:56:29.476 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : ==> Parameters: 
2020-02-09 18:56:29.485 DEBUG 8196 --- [http-nio-8080-exec-2] com.zl.mapper.BlogMapper.selectTypeTop   : <==      Total: 1
2020-02-09 18:56:29.486 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:56:29.487 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:56:29.487 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.488 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( type_id = ? ) 
2020-02-09 18:56:29.488 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: 1(Long)
2020-02-09 18:56:29.489 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 18:56:29.490 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==>  Preparing: SELECT * FROM t_blog_tags GROUP BY tag_id ORDER BY COUNT(tag_id) DESC LIMIT 10 
2020-02-09 18:56:29.490 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : ==> Parameters: 
2020-02-09 18:56:29.491 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectTagTop   : <==      Total: 3
2020-02-09 18:56:29.492 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:56:29.492 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 2(Long)
2020-02-09 18:56:29.493 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:56:29.494 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:56:29.494 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 2(Long)
2020-02-09 18:56:29.495 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 3
2020-02-09 18:56:29.495 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:29.495 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 18:56:29.496 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.497 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:29.497 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 13(Long)
2020-02-09 18:56:29.498 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.498 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:29.498 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 14(Long)
2020-02-09 18:56:29.499 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.499 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:56:29.499 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 3(Long)
2020-02-09 18:56:29.499 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:56:29.499 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:56:29.500 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 3(Long)
2020-02-09 18:56:29.500 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 18:56:29.500 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:29.500 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 15(Long)
2020-02-09 18:56:29.501 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.501 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==>  Preparing: SELECT id,name FROM t_tag WHERE id = ? 
2020-02-09 18:56:29.501 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : ==> Parameters: 5(Long)
2020-02-09 18:56:29.502 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.mapper.TagMapper.selectByPrimaryKey  : <==      Total: 1
2020-02-09 18:56:29.502 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==>  Preparing: select* from t_blog_tags where tag_id = ? 
2020-02-09 18:56:29.502 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : ==> Parameters: 5(Long)
2020-02-09 18:56:29.503 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogTagMapper.selectByTagId  : <==      Total: 1
2020-02-09 18:56:29.503 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:29.503 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 16(Long)
2020-02-09 18:56:29.504 DEBUG 8196 --- [http-nio-8080-exec-2] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:29.505 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE ( is_recommend = ? ) order by update_time desc limit 8 
2020-02-09 18:56:29.505 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : ==> Parameters: true(Boolean)
2020-02-09 18:56:29.507 DEBUG 8196 --- [http-nio-8080-exec-2] c.zl.mapper.BlogMapper.selectByExample   : <==      Total: 5
2020-02-09 18:56:29.508  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:56:29.508  INFO 8196 --- [http-nio-8080-exec-2] com.zl.aspect.LogAspect                  : Result : index
2020-02-09 18:56:33.464  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 18:56:33.465 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 18:56:33.465 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 18:56:33.466 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:33.469 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 18:56:33.469 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:56:33.470 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:33.471 DEBUG 8196 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 18:56:33.471 DEBUG 8196 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 18:56:33.472 DEBUG 8196 --- [http-nio-8080-exec-7] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 18:56:33.473 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 18:56:33.473 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 18:56:33.474 DEBUG 8196 --- [http-nio-8080-exec-7] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 18:56:33.474  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:56:33.475  INFO 8196 --- [http-nio-8080-exec-7] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 18:56:33.922  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 18:56:33.923 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 18:56:33.923 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 18:56:33.928 DEBUG 8196 --- [http-nio-8080-exec-10] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 18:56:33.930  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 18:56:33.930  INFO 8196 --- [http-nio-8080-exec-10] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 19:09:40.223  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 19:09:40.224 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 19:09:40.224 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 19:09:40.234 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:09:40.236 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 19:09:40.236 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:09:40.236 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:09:40.237 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 19:09:40.237 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 19:09:40.238 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 19:09:40.239 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 19:09:40.239 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:09:40.239 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:09:40.240  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:09:40.240  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 19:09:40.687  INFO 8196 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 19:09:40.689 DEBUG 8196 --- [http-nio-8080-exec-4] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:09:40.689 DEBUG 8196 --- [http-nio-8080-exec-4] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:09:40.691 DEBUG 8196 --- [http-nio-8080-exec-4] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:09:40.692  INFO 8196 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:09:40.692  INFO 8196 --- [http-nio-8080-exec-4] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 19:11:37.616  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 19:11:37.617 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 19:11:37.617 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 19:11:37.618 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:11:37.620 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 19:11:37.621 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:11:37.621 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:11:37.622 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 19:11:37.622 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 19:11:37.622 DEBUG 8196 --- [http-nio-8080-exec-8] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 19:11:37.623 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 19:11:37.623 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:11:37.624 DEBUG 8196 --- [http-nio-8080-exec-8] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:11:37.625  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:11:37.625  INFO 8196 --- [http-nio-8080-exec-8] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 19:11:38.227  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 19:11:38.229 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:11:38.229 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:11:38.231 DEBUG 8196 --- [http-nio-8080-exec-5] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:11:38.232  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:11:38.232  INFO 8196 --- [http-nio-8080-exec-5] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 19:12:36.250  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/blog', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.IndexController.showblog', args=[12, {}]}
2020-02-09 19:12:36.252 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,title,content,first_picture,flag,views,description,is_appreciation,is_share,is_comment,is_publish,is_recommend,create_time,update_time,type_id,user_id FROM t_blog WHERE id = ? 
2020-02-09 19:12:36.252 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : ==> Parameters: 12(Long)
2020-02-09 19:12:36.254 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.BlogMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:12:36.259 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,nick_name,password,email,avatar,type,create_time,update_time,username FROM t_user WHERE id = ? 
2020-02-09 19:12:36.260 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:12:36.262 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.UserMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:12:36.263 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==>  Preparing: SELECT * FROM t_tag WHERE id IN (SELECT tag_id FROM t_blog_tags WHERE blog_id = ?) 
2020-02-09 19:12:36.264 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : ==> Parameters: 12(Long)
2020-02-09 19:12:36.265 DEBUG 8196 --- [http-nio-8080-exec-9] c.zl.mapper.TagMapper.queryTagsByBlogId  : <==      Total: 1
2020-02-09 19:12:36.267 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==>  Preparing: SELECT id,name FROM t_type WHERE id = ? 
2020-02-09 19:12:36.268 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : ==> Parameters: 1(Long)
2020-02-09 19:12:36.269 DEBUG 8196 --- [http-nio-8080-exec-9] c.z.m.TypeMapper.selectByPrimaryKey      : <==      Total: 1
2020-02-09 19:12:36.271  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:12:36.271  INFO 8196 --- [http-nio-8080-exec-9] com.zl.aspect.LogAspect                  : Result : /blog
2020-02-09 19:12:37.297  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Request : RequestLog{url='http://localhost:8080/comments', ip='0:0:0:0:0:0:0:1', classMethod='com.zl.controller.CommentController.comments', args=[12, {}]}
2020-02-09 19:12:37.300 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:12:37.301 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:12:37.305 DEBUG 8196 --- [http-nio-8080-exec-3] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:12:37.308  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : -----doAfter----
2020-02-09 19:12:37.308  INFO 8196 --- [http-nio-8080-exec-3] com.zl.aspect.LogAspect                  : Result : blog :: commentList
2020-02-09 19:26:38.506  INFO 8196 --- [Thread-20] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:26:38.507  INFO 8196 --- [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2020-02-09 19:26:38.516  INFO 8196 --- [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2020-02-09 19:26:39.893  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 8196 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:26:39.896 DEBUG 8196 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:26:39.897  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.335  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:40.482  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:26:40.839  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 19:26:40.840  INFO 8196 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 19:26:40.841  INFO 8196 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 19:26:40.841  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 19:26:40.841  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 19:26:40.841  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 19:26:40.842  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 19:26:40.887  INFO 8196 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 19:26:40.887  INFO 8196 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 980 ms
2020-02-09 19:26:41.958  INFO 8196 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:26:42.093  INFO 8196 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:26:42.230  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:26:42.230  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:26:42.230  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:26:42.230  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:26:42.604  INFO 8196 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 19:26:42.630  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 19:26:42.631  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 2.849 seconds (JVM running for 6133.767)
2020-02-09 19:26:42.633  INFO 8196 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 19:26:46.953  INFO 16740 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 16740 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:26:46.956 DEBUG 16740 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:26:46.957  INFO 16740 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:26:50.096  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.097  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.098  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.099  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.099  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.100  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.100  WARN 16740 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:26:50.530  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.530  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.530  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.531  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.531  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.531  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:26:50.532  WARN 16740 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:26:54.432  INFO 16740 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:26:54.733  INFO 16740 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:26:55.214  INFO 16740 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:26:55.216  INFO 16740 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:26:55.217  INFO 16740 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:26:55.219  INFO 16740 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:26:55.752  INFO 16740 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 9.869 seconds (JVM running for 12.212)
2020-02-09 19:26:56.255  INFO 16740 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:26:56.601  INFO 16740 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:26:56.739 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:26:56.800 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:26:56.855 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:26:56.865 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:26:56.865 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:26:56.868 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:26:56.869 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:26:56.869 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:26:56.871 DEBUG 16740 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:26:56.986  INFO 16740 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:26:56.988  INFO 16740 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:26:57.017  INFO 16740 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:30:28.324  INFO 6064 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 6064 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:30:28.327 DEBUG 6064 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:30:28.328  INFO 6064 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:30:29.457  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.458  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.458  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.458  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.458  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.459  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.459  WARN 6064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:30:29.759  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.760  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.761  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.761  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.761  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.762  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:30:29.763  WARN 6064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:30:33.262  INFO 6064 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:30:33.553  INFO 6064 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:30:34.004  INFO 6064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:30:34.005  INFO 6064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:30:34.007  INFO 6064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:30:34.008  INFO 6064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:30:34.457  INFO 6064 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.977 seconds (JVM running for 9.036)
2020-02-09 19:30:34.853  INFO 6064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:30:35.188  INFO 6064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:30:35.337 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:30:35.404 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:30:35.457 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:30:35.468 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:30:35.469 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:30:35.471 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:30:35.472 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:30:35.473 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:30:35.475 DEBUG 6064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:30:35.571  INFO 6064 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:30:35.573  INFO 6064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:30:35.596  INFO 6064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:35:02.308  INFO 7760 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 7760 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:35:02.310 DEBUG 7760 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:35:02.311  INFO 7760 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:35:02.882  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.882  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.883  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.883  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.883  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.883  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:02.883  WARN 7760 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:35:03.054  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.055  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.055  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.055  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.055  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.055  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:03.056  WARN 7760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:35:06.371  INFO 7760 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:35:06.666  INFO 7760 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:35:07.152  INFO 7760 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:35:07.154  INFO 7760 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:35:07.155  INFO 7760 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:35:07.156  INFO 7760 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:35:07.631  INFO 7760 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 5.725 seconds (JVM running for 6.769)
2020-02-09 19:35:08.053  INFO 7760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:35:08.385  INFO 7760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:35:08.529 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:35:08.588 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:35:08.630 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:35:08.639 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:35:08.640 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:35:08.642 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:35:08.643 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:35:08.644 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:35:08.645 DEBUG 7760 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:35:08.761  INFO 7760 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:35:08.764  INFO 7760 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:35:08.791  INFO 7760 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:35:31.583  INFO 1396 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 1396 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:35:31.585 DEBUG 1396 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:35:31.585  INFO 1396 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:35:32.912  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.912  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.913  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.913  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.913  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.914  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:32.914  WARN 1396 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:35:33.226  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.227  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.227  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.227  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.228  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.228  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:35:33.229  WARN 1396 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:35:37.322  INFO 1396 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:35:37.664  INFO 1396 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:35:38.266  INFO 1396 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:35:38.268  INFO 1396 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:35:38.269  INFO 1396 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:35:38.271  INFO 1396 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:35:38.811  INFO 1396 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 8.202 seconds (JVM running for 10.358)
2020-02-09 19:35:39.232  INFO 1396 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:35:39.628  INFO 1396 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:35:39.799 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:35:39.859 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:35:39.905 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:37:06.245 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:37:06.247 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:37:06.254 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:37:31.619  WARN 1396 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s353ms710µs700ns).
2020-02-09 19:40:35.864  INFO 9360 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 9360 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:40:35.865 DEBUG 9360 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:40:35.865  INFO 9360 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.524  WARN 9360 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:40:36.693  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.694  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.694  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.694  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.694  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.694  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:40:36.695  WARN 9360 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:40:40.615  INFO 9360 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:40:40.942  INFO 9360 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:40:41.524  INFO 9360 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:40:41.526  INFO 9360 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:40:41.528  INFO 9360 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:40:41.528  INFO 9360 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:40:42.118  INFO 9360 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.749 seconds (JVM running for 8.075)
2020-02-09 19:40:42.570  INFO 9360 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:40:42.993  INFO 9360 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:40:43.191 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:40:43.252 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:40:43.305 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:41:43.884  WARN 9360 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m789ms673µs700ns).
2020-02-09 19:41:53.487 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:41:53.489 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:41:53.498 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:42:38.880  WARN 9360 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=54s995ms343µs400ns).
2020-02-09 19:46:16.424  INFO 8196 --- [Thread-25] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:17.713  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Starting BlogApplication on LAPTOP-273GH63B with PID 8196 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:46:17.713 DEBUG 8196 --- [restartedMain] com.zl.BlogApplication                   : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:46:17.713  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : The following profiles are active: dev
2020-02-09 19:46:18.131  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.131  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.131  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.131  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.132  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.132  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.132  WARN 8196 --- [restartedMain] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:18.262  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:18.263  WARN 8196 --- [restartedMain] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:18.555  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2020-02-09 19:46:18.556  INFO 8196 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2020-02-09 19:46:18.556  INFO 8196 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.30]
2020-02-09 19:46:18.557  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : Loaded APR based Apache Tomcat Native library [1.2.23] using APR version [1.7.0].
2020-02-09 19:46:18.557  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].
2020-02-09 19:46:18.557  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2020-02-09 19:46:18.557  INFO 8196 --- [restartedMain] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1c  28 May 2019]
2020-02-09 19:46:18.586  INFO 8196 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2020-02-09 19:46:18.587  INFO 8196 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 868 ms
2020-02-09 19:46:20.163  INFO 8196 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:20.287  INFO 8196 --- [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:46:20.449  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:46:20.449  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:46:20.449  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:46:20.450  INFO 8196 --- [restartedMain] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:46:20.847  INFO 8196 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2020-02-09 19:46:20.879  INFO 8196 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2020-02-09 19:46:20.885  INFO 8196 --- [restartedMain] com.zl.BlogApplication                   : Started BlogApplication in 3.243 seconds (JVM running for 7312.022)
2020-02-09 19:46:20.887  INFO 8196 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2020-02-09 19:46:21.525  INFO 8508 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 8508 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:46:21.527 DEBUG 8508 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:46:21.528  INFO 8508 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:46:22.600  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.600  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.601  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.601  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.602  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.602  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.603  WARN 8508 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:22.861  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.861  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.862  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.862  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.862  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.862  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:22.863  WARN 8508 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:26.337  INFO 8508 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:26.629  INFO 8508 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:46:27.083  INFO 8508 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:46:27.084  INFO 8508 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:46:27.085  INFO 8508 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:46:27.086  INFO 8508 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:46:27.567  INFO 8508 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.923 seconds (JVM running for 9.46)
2020-02-09 19:46:27.942  INFO 8508 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:46:28.271  INFO 8508 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:46:28.415 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:46:28.467 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:46:28.512 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:46:28.520 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:28.521 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:46:28.523 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:28.524 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:28.524 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:46:28.526 DEBUG 8508 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:28.561  INFO 8508 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:28.563  INFO 8508 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:46:28.583  INFO 8508 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:43:47.639  WARN 1396 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m16s17ms292µs300ns).
2020-02-09 19:46:41.405 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:41.405 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:46:41.406 DEBUG 1396 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:41.421  WARN 9360 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m20s244ms812µs600ns).
2020-02-09 19:46:41.422 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:41.423 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:46:41.431 DEBUG 9360 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:41.609  INFO 1396 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:41.611  INFO 1396 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:46:41.686  INFO 1396 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:46:41.769  INFO 9360 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:41.771  INFO 9360 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:46:41.792  INFO 9360 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:46:49.937  INFO 12476 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 12476 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:46:49.939 DEBUG 12476 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:46:49.940  INFO 12476 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:46:51.368  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.369  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.369  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.370  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.370  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.370  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.370  WARN 12476 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:51.644  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.645  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.646  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.646  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.646  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.647  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:46:51.648  WARN 12476 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:46:55.140  INFO 12476 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:55.418  INFO 12476 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:46:55.887  INFO 12476 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:46:55.889  INFO 12476 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:46:55.890  INFO 12476 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:46:55.891  INFO 12476 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:46:56.351  INFO 12476 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 7.405 seconds (JVM running for 10.14)
2020-02-09 19:46:56.766  INFO 12476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:46:57.105  INFO 12476 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:46:57.251 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:46:57.303 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:46:57.348 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:46:57.356 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:57.357 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 19:46:57.359 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:57.360 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 19:46:57.361 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 19:46:57.363 DEBUG 12476 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 19:46:57.398  INFO 12476 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:46:57.400  INFO 12476 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:46:57.424  INFO 12476 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:52:18.144  INFO 11488 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 11488 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:52:18.146 DEBUG 11488 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:52:18.146  INFO 11488 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:52:19.199  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.200  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.200  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.200  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.201  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.201  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.201  WARN 11488 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:52:19.472  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.472  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.473  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.473  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.474  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.474  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:52:19.475  WARN 11488 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:52:22.841  INFO 11488 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:52:23.119  INFO 11488 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:52:23.578  INFO 11488 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:52:23.580  INFO 11488 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:52:23.581  INFO 11488 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:52:23.582  INFO 11488 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:52:24.036  INFO 11488 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.354 seconds (JVM running for 7.372)
2020-02-09 19:52:24.406  INFO 11488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:52:24.731  INFO 11488 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:52:24.875 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:52:24.927 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:52:24.983 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:52:24.996 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:52:24.996 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 19:52:24.998 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 19:52:25.001 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:52:25.002 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 19:52:25.006 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 19:52:25.008 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:52:25.009 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 19:52:25.012 DEBUG 11488 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 19:52:25.051  INFO 11488 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:52:25.054  INFO 11488 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:52:25.078  INFO 11488 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 19:55:38.293  INFO 16204 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 16204 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 19:55:38.295 DEBUG 16204 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 19:55:38.295  INFO 16204 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 19:55:39.381  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.382  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.382  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.383  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.383  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.383  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.383  WARN 16204 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:55:39.614  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.614  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.614  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.615  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.615  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.615  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 19:55:39.616  WARN 16204 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 19:55:43.059  INFO 16204 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 19:55:43.328  INFO 16204 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 19:55:43.769  INFO 16204 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 19:55:43.770  INFO 16204 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 19:55:43.771  INFO 16204 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 19:55:43.772  INFO 16204 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 19:55:44.209  INFO 16204 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.522 seconds (JVM running for 7.576)
2020-02-09 19:55:44.615  INFO 16204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 19:55:44.954  INFO 16204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 19:55:45.129 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 19:55:45.186 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 19:55:45.248 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 19:55:45.260 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:55:45.261 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 19:55:45.263 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 19:55:45.265 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:55:45.265 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 19:55:45.267 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 19:55:45.269 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:55:45.270 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 19:55:45.272 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 19:55:45.274 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:55:45.275 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 19:55:45.277 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 19:55:45.279 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 19:55:45.280 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 19:55:45.282 DEBUG 16204 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 19:55:45.325  INFO 16204 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 19:55:45.328  INFO 16204 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 19:55:45.355  INFO 16204 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:00:14.322  INFO 6612 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 6612 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:00:14.323 DEBUG 6612 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:00:14.323  INFO 6612 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:00:14.904  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.905  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.905  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.905  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.905  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.905  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:14.906  WARN 6612 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:00:15.044  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.044  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.045  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.045  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.045  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.045  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:00:15.045  WARN 6612 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:00:16.835  INFO 6612 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:00:16.984  INFO 6612 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:00:17.204  INFO 6612 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:00:17.205  INFO 6612 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:00:17.206  INFO 6612 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:00:17.207  INFO 6612 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:00:17.417  INFO 6612 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.497 seconds (JVM running for 4.579)
2020-02-09 22:00:17.624  INFO 6612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:00:17.809  INFO 6612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:00:17.890 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:00:17.916 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:00:17.942 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:00:17.947 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:00:17.947 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 22:00:17.948 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:00:17.949 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:00:17.949 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 22:00:17.950 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:00:17.951 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:00:17.951 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 22:00:17.952 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:00:17.953 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:00:17.954 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 22:00:17.954 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:00:17.955 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:00:17.956 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 22:00:17.957 DEBUG 6612 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:00:18.014  INFO 6612 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:00:18.015  INFO 6612 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:00:18.030  INFO 6612 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:04:16.329  INFO 8688 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 8688 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:04:16.330 DEBUG 8688 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:04:16.330  INFO 8688 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:04:16.925  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:16.926  WARN 8688 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:04:17.067  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:04:17.068  WARN 8688 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:04:18.918  INFO 8688 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:04:19.058  INFO 8688 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:04:19.271  INFO 8688 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:04:19.271  INFO 8688 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:04:19.272  INFO 8688 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:04:19.272  INFO 8688 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:04:19.506  INFO 8688 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.58 seconds (JVM running for 4.671)
2020-02-09 22:04:19.723  INFO 8688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:04:19.911  INFO 8688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:04:19.998 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:04:20.059 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:04:20.088 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:04:20.093 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:04:20.093 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 22:04:20.095 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:04:20.096 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:04:20.096 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 22:04:20.097 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:04:20.098 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:04:20.098 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 22:04:20.100 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:04:20.101 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:04:20.102 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 22:04:20.103 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:04:20.105 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:04:20.105 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 22:04:20.106 DEBUG 8688 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:04:20.128  INFO 8688 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:04:20.129  INFO 8688 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:04:20.140  INFO 8688 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:11:37.432  INFO 17064 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 17064 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:11:37.433 DEBUG 17064 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:11:37.434  INFO 17064 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:11:38.010  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.010  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.011  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.011  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.011  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.011  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.011  WARN 17064 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:11:38.149  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.150  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.150  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.150  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.150  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.150  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:11:38.151  WARN 17064 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:11:39.987  INFO 17064 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:11:40.153  INFO 17064 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:11:40.396  INFO 17064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:11:40.396  INFO 17064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:11:40.397  INFO 17064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:11:40.397  INFO 17064 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:11:40.656  INFO 17064 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.615 seconds (JVM running for 4.706)
2020-02-09 22:11:40.876  INFO 17064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:11:41.041  INFO 17064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:11:41.118 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:11:41.150 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:11:41.179 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:11:41.186 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:11:41.186 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 22:11:41.187 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:11:41.189 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:11:41.190 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 22:11:41.190 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:11:41.191 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:11:41.192 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 22:11:41.194 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:11:41.196 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:11:41.197 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 22:11:41.198 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:11:41.199 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:11:41.199 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 22:11:41.200 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:11:41.201 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:11:41.202 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 22:11:41.203 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:11:41.205 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:11:41.205 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 22:11:41.206 DEBUG 17064 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:11:41.229  INFO 17064 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:11:41.230  INFO 17064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:11:41.243  INFO 17064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:16:28.346  INFO 10168 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 10168 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:16:28.347 DEBUG 10168 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:16:28.347  INFO 10168 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:16:28.974  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.974  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.975  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.975  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.975  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.975  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:28.975  WARN 10168 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:16:29.116  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.116  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.116  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.117  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.117  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.117  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:16:29.117  WARN 10168 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:16:30.988  INFO 10168 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:16:31.134  INFO 10168 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:16:31.382  INFO 10168 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:16:31.383  INFO 10168 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:16:31.383  INFO 10168 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:16:31.384  INFO 10168 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:16:31.622  INFO 10168 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.718 seconds (JVM running for 4.795)
2020-02-09 22:16:31.828  INFO 10168 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:16:32.011  INFO 10168 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:16:32.086 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:16:32.117 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:16:32.145 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:16:32.151 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:16:32.152 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 22:16:32.153 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:16:32.154 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:16:32.154 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 22:16:32.156 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:16:32.157 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:16:32.158 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 22:16:32.158 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:16:32.159 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:16:32.159 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 22:16:32.160 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:16:32.161 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:16:32.162 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 22:16:32.163 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:16:32.164 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:16:32.165 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 22:16:32.166 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:16:32.167 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:16:32.168 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 22:16:32.168 DEBUG 10168 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:16:32.188  INFO 10168 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:16:32.189  INFO 10168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:16:32.201  INFO 10168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:38:57.045  INFO 8724 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 8724 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:38:57.046 DEBUG 8724 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:38:57.046  INFO 8724 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:38:57.607  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.608  WARN 8724 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:38:57.750  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.750  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.751  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.751  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.751  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.751  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:38:57.751  WARN 8724 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:38:59.473  INFO 8724 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:38:59.616  INFO 8724 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:38:59.840  INFO 8724 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:38:59.841  INFO 8724 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:38:59.842  INFO 8724 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:38:59.842  INFO 8724 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:39:00.060  INFO 8724 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.383 seconds (JVM running for 4.374)
2020-02-09 22:39:00.262  INFO 8724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:39:00.428  INFO 8724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:39:00.508 DEBUG 8724 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:39:00.536 DEBUG 8724 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:39:00.560 DEBUG 8724 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:39:00.588  INFO 8724 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:39:00.588  INFO 8724 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:39:00.603  INFO 8724 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:39:39.718  INFO 7616 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 7616 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:39:39.718 DEBUG 7616 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:39:39.719  INFO 7616 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:39:40.282  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.283  WARN 7616 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:39:40.415  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:39:40.416  WARN 7616 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:39:42.221  INFO 7616 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:39:42.355  INFO 7616 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:39:42.590  INFO 7616 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:39:42.591  INFO 7616 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:39:42.592  INFO 7616 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:39:42.592  INFO 7616 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:39:42.819  INFO 7616 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 3.485 seconds (JVM running for 4.497)
2020-02-09 22:39:42.998  INFO 7616 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:39:43.152  INFO 7616 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:39:43.225 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:39:43.260 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:39:43.299 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:39:43.303 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:39:43.303 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 22:39:43.304 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:39:43.305 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:39:43.305 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 22:39:43.306 DEBUG 7616 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:39:43.365  INFO 7616 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:39:43.366  INFO 7616 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:39:43.379  INFO 7616 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:41:55.176  INFO 16320 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 16320 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:41:55.179 DEBUG 16320 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:41:55.180  INFO 16320 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:41:56.276  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.276  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.277  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.277  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.277  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.277  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.277  WARN 16320 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:41:56.515  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.516  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.516  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.517  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.517  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.518  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:41:56.519  WARN 16320 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:41:59.959  INFO 16320 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:42:00.250  INFO 16320 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:42:00.663  INFO 16320 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:42:00.664  INFO 16320 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:42:00.666  INFO 16320 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:42:00.666  INFO 16320 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:42:01.180  INFO 16320 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 6.696 seconds (JVM running for 7.746)
2020-02-09 22:42:01.588  INFO 16320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:42:01.957  INFO 16320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:42:02.101 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:42:02.154 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:42:02.195 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:42:02.203 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:42:02.204 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 22:42:02.206 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:42:02.206 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:42:02.207 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 22:42:02.208 DEBUG 16320 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:42:02.242  INFO 16320 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:42:02.245  INFO 16320 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:42:02.271  INFO 16320 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2020-02-09 22:59:00.004  INFO 9628 --- [main] com.zl.BlogApplicationTests              : Starting BlogApplicationTests on LAPTOP-273GH63B with PID 9628 (started by 银 in D:\IdeaProjects\项目实战\blog)
2020-02-09 22:59:00.006 DEBUG 9628 --- [main] com.zl.BlogApplicationTests              : Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2020-02-09 22:59:00.007  INFO 9628 --- [main] com.zl.BlogApplicationTests              : The following profiles are active: dev
2020-02-09 22:59:01.211  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.212  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.212  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.213  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.215  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.216  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.216  WARN 9628 --- [main] t.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:59:01.507  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogMapper' and 'com.zl.mapper.BlogMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.507  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'blogTagMapper' and 'com.zl.mapper.BlogTagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.508  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'commentMapper' and 'com.zl.mapper.CommentMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.508  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'tagMapper' and 'com.zl.mapper.TagMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.508  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'typeMapper' and 'com.zl.mapper.TypeMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.509  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Skipping MapperFactoryBean with name 'userMapper' and 'com.zl.mapper.UserMapper' mapperInterface. Bean already defined with the same name!
2020-02-09 22:59:01.510  WARN 9628 --- [main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in '[com.zl]' package. Please check your configuration.
2020-02-09 22:59:04.906  INFO 9628 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-02-09 22:59:05.201  INFO 9628 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2020-02-09 22:59:05.730  INFO 9628 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.util.MsUtil CLASS_CACHE cache.
2020-02-09 22:59:05.732  INFO 9628 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.genid.GenIdUtil CACHE cache.
2020-02-09 22:59:05.734  INFO 9628 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear tk.mybatis.mapper.version.VersionUtil CACHE cache.
2020-02-09 22:59:05.735  INFO 9628 --- [main] t.m.m.autoconfigure.MapperCacheDisabler  : Clear EntityHelper entityTableMap cache.
2020-02-09 22:59:06.185  INFO 9628 --- [main] com.zl.BlogApplicationTests              : Started BlogApplicationTests in 7.176 seconds (JVM running for 8.395)
2020-02-09 22:59:06.585  INFO 9628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2020-02-09 22:59:06.942  INFO 9628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2020-02-09 22:59:07.075 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( blog_id = ? ) order by create_time desc 
2020-02-09 22:59:07.126 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 12(Long)
2020-02-09 22:59:07.173 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 5
2020-02-09 22:59:07.185 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:59:07.186 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 5(Long)
2020-02-09 22:59:07.188 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:59:07.189 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE id = ? 
2020-02-09 22:59:07.189 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : ==> Parameters: 4(Long)
2020-02-09 22:59:07.191 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByPrimaryKey   : <==      Total: 1
2020-02-09 22:59:07.193 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:59:07.194 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 7(Long)
2020-02-09 22:59:07.195 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:59:07.197 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:59:07.197 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 6(Long)
2020-02-09 22:59:07.199 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:59:07.201 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:59:07.201 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 5(Long)
2020-02-09 22:59:07.203 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:59:07.205 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:59:07.206 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 4(Long)
2020-02-09 22:59:07.208 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 1
2020-02-09 22:59:07.210 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==>  Preparing: SELECT id,nick_name,email,content,avatar,create_time,blog_id,parent_comment_id FROM t_comment WHERE ( parent_comment_id = ? ) 
2020-02-09 22:59:07.211 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : ==> Parameters: 3(Long)
2020-02-09 22:59:07.212 DEBUG 9628 --- [main] c.z.m.CommentMapper.selectByExample      : <==      Total: 0
2020-02-09 22:59:07.252  INFO 9628 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2020-02-09 22:59:07.254  INFO 9628 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2020-02-09 22:59:07.277  INFO 9628 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
